{"version":3,"sources":["Scatter/Axis.js","Scatter/Axes.js","Scatter/Circles.js","Scatter/Scatter.js","Scatter/dataTransform.js","dataParser.js","RadialLineChart/RadialLineChart.js","WeeklyRadial/WeeklyRadial.js","CalendarRadial/CalendarRadial.js","Calendar/Calendar.js","WeekSummary/WeekSummary.js","BarChart/BarChart.js","Menu/Menu.js","App.js","serviceWorker.js","index.js","data/itching.csv","data/symptoms.csv","data/data-tinnitus.csv","data/data-sugar_craving.csv","assets/empty-light.png","assets/shift.png","assets/tap.png"],"names":["Axis","this","renderAxis","axisType","props","orient","axis","d3Axis","scale","tickSize","tickPadding","ticks","d3Select","axisElement","call","className","ref","el","transform","translate","Component","scales","margins","svgDimensions","ticksX","ticksY","height","width","xProps","xScale","bottom","top","yProps","yScale","left","right","Circles","console","log","data","rowHeight","index","rScale","circles","values","map","val","j","key","cx","cy","r","fill","_randomNum","Math","floor","random","getData","value","coordinateKeys","dataType","undefined","rowKey","d3","rowTotal","d","rowKeys","rowTotals","ret","forEach","rowTotalsMax","rowValuesKeys","Object","keys","columnKeys","tmp","i","array1","array2","arr","concat","len","length","assoc","item","unshift","union","columnTotals","columnName","columnTotalsMax","valueMin","valueMax","valueExtent","coordinatesMin","coordinatesMax","coordinatesExtent","decimalPlaces","num","match","max","maxDecimalPlace","thresholds","distance","v","Number","toFixed","summary","rotate","rowIndex","columnKey","columnIndex","assign","dataTransform","maxValue","scaleBand","domain","range","padding","scaleLinear","React","parseDate","timeStamp","moment","split","format","parseTime","offset","timeString","slice","utc","utcOffset","getDayInsights","dayjs","extend","weekday","newData","date","columns","time","groupBy","getDayHoursArr","thisDayHours","groupByHoursArr","arrayOfHours","push","filter","a","hour","parseInt","some","e","reduce","getWeekday","getFilteredbyWeekday","dayInsights","obj","getWeekdayInsights","toObject","filtered","res","getWeekdayInsightsFilteredByMonth","month","filteredByDay","filteredByMonth","months","getMonthInsights","year","monthStr","toString","Date","firstDay","getFullYear","getMonth","getDate","lastDay","firstDate","lastDate","dates","startDate","endDate","currentDate","addDays","days","valueOf","setDate","toISOString","getDates","addedDates","currentDay","getMonthPlusOne","getMonthName","getMonthNameForWeek","getMonthNameFromMonthNr","getWeekdayName","getMonths","monthsArray","indexOf","Set","getTotalInDay","counter","elem","allDaysArr","avgWeekdayHours","totalWeekdays","innerRadius","outerRadius","min","fullCircle","PI","y","scaleRadial","RadialLineChart","renderRadial","x","clockConfig","line","angle","radius","curve","lineType","sunset","sunrise","dataDayHours","advancedFormat","getSunset","getSunrise","svg","refs","svgElem","gSelect","selectAll","exit","classed","attr","transition","remove","enter","append","avgAllDataChecked","minMaxWeekdayData","avgMonthDataChecked","minMaxAllData","colorScale","numColors","interpolate","datum","avgWeekday","avgWeekdayInAMonth","yAxisWhite","xTick","text","style","clockGroup","arc","startAngle","clockToRad","endAngle","prevProps","degrees","clock","direction","degree","circleDegree","degToRad","deg","rad","cos","sin","ang","WeeklyRadial","avgMonday","allAvgValues","yAxis","yTick","avgTuesday","avgWednesday","avgThursday","avgFriday","avgSaturday","avgSunday","CalendarRadial","g","scaleData","id","classNames","require","Calendar","day","shiftKey","setWeek","setDay","occurences","myColor","heatmapChecked","dataParser","monthData","firstWeekday","weekData","monthOccurences","firstDayClass","onClick","chooseDay","data-tip","backgroundColor","allDatasetData","src","multiline","WeekSummary","dataArr","dailyHours","k","renderWeek","margin","tickValues","make_x_gridlines","tickFormat","make_y_gridlines","histogram","sumstat","rollup","input","entries","maxNum","lengths","longuest","xNum","bandwidth","x0","x1","xBasic","yBasic","BarChart","renderBarChart","rangeRound","svgElemBar","graphArea","defs","xAxis","alpha","colors","colorScaleBasic","scaleQuantize","nice","Menu","state","chartType","setMonth","setLineType","setDataset","setClockConfig","event","setChartType","target","name","setTimePeriod","setAllDataChecked","checked","setMonthDataChecked","setHeatmapChecked","setCalendarView","defaultOption","lines","firstValue","secondValue","configValue","datasetValue","chosenMonth","totalInMonthArr","totalInYearArr","totalInWeekArr","totalInMonth","totalInYear","totalInWeek","timePeriod","currentWeekNr","round","onButtonClick","options","onChange","onDropdownChange","placeholder","onMonthChange","onLineChange","onClockConfigChange","class","type","checkAvgAllData","checkAvgMonthData","checkHeatmap","clear","alt","App","dataset","dataItching","dataSymptoms","dataTinnitus","dataSugar","then","currentMonth","currentYear","weekdayNr","allExistingWeekdays","allExistingMondays","allExistingTuesdays","allExistingWednesdays","allExistingThursdays","allExistingFridays","allExistingSaturdays","allExistingSundays","allOfThisWeekdayInAMonth","setState","allDatasetDataLog","prevState","lineTypeStr","weekOfYear","week","monthInsights","isoWeekday","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.f483c420.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport * as d3Axis from 'd3-axis'\nimport { select as d3Select } from 'd3-selection'\n\nimport './Axis.css'\n\nexport default class Axis extends Component {\n  componentDidMount() {\n    this.renderAxis()\n  }\n\n  componentDidUpdate() {\n    this.renderAxis()\n  }\n\n  renderAxis() {\n    const axisType = `axis${this.props.orient}`\n    const axis = d3Axis[axisType]()\n      .scale(this.props.scale)\n      .tickSize(-this.props.tickSize)\n      .tickPadding([12])\n      .ticks(this.props.ticks)\n\n    d3Select(this.axisElement).call(axis)\n  }\n\n  render() {\n    return (\n      <g\n        className={`Axis Axis-${this.props.orient}`}\n        ref={(el) => { this.axisElement = el; }}\n        transform={this.props.translate}\n      />\n    )\n  }\n}\n","import React from 'react'\nimport Axis from './Axis'\n\nexport default ({ scales, margins, svgDimensions, ticksX, ticksY }) => {\n  const { height, width } = svgDimensions\n\n  const xProps = {\n    orient: 'Bottom',\n    scale: scales.xScale,\n    translate: `translate(0, ${height - margins.bottom})`,\n    tickSize: height - margins.top - margins.bottom,\n    ticks: ticksX\n  }\n\n  const yProps = {\n    orient: 'Left',\n    scale: scales.yScale,\n    translate: `translate(${margins.left}, 0)`,\n    tickSize: width - margins.left - margins.right,\n    ticks: ticksY\n  }\n\n  return (\n    <g>\n      <Axis {...xProps} />\n      <Axis {...yProps} />\n    </g>\n  )\n}\n","import React, { Component } from 'react'\nimport { scaleLinear } from 'd3-scale'\nimport { interpolateLab } from 'd3-interpolate'\n\nexport default class Circles extends Component {\n  constructor(props) {\n    super(props)\n    console.log(props)\n  }\n\n  // renderCircle = (d) => {\n  //   return (\n  //     <circle\n  //      cx={this.props.xScale(d['key'])}\n  //      cy={this.props.yScale(d['value'])}\n  //      r={2}\n  //      key={Math.random() * 1}\n  //     />\n  //   )\n  // }\n\n  render() {\n    const { scales, margins, data, svgDimensions, rowHeight, index } = this.props\n    const { xScale, yScale, rScale } = scales\n    const { height } = svgDimensions\n\n    console.log(\"data \", this.props.data)\n\n    const circles = (\n\n     data.values.map((val, j) =>\n     <circle\n       key={'key-' + val['key'] + val['key']}\n       cx={xScale(val['key'])}\n       cy={(height - margins.bottom - rowHeight*1.4) - (index*rowHeight*1.4)}\n       r={rScale(val['value'])}\n       fill='rgb(65, 44, 201, 0.7)'\n     />\n     )\n   )\n\n    return (\n      <g>{circles}</g>\n      // <g>{this.props.data.map(d => this.renderCircle(d))}</g>\n    )\n  }\n}\n","import React, {createRef} from 'react';\nimport './../Scatter/scatter.scss';\nimport * as d3 from \"d3\";\nimport {scaleLinear, scaleBand} from 'd3-scale';\nimport Axes from './Axes'\nimport { select as d3Select } from 'd3-selection'\n// import data from './../data/data'\n// import data from './../data/itching.csv';\nimport Circles from './Circles'\nimport moment from 'moment'\nimport dataTransform from \"./dataTransform\";\n\nlet _randomNum = function() {\n    return Math.floor(Math.random() * 20);\n  };\n\n\nconst getData = () => {\n  return [{\n    key: \"Apples\",\n    values: [{\n      key: \"2004\",\n      value: _randomNum()\n    }, {\n      key: \"2005\",\n      value: _randomNum()\n    }, {\n      key: \"2006\",\n      value: _randomNum()\n    }, {\n      key: \"2007\",\n      value: _randomNum()\n    }, {\n      key: \"2008\",\n      value: _randomNum()\n    }, {\n      key: \"2009\",\n      value: _randomNum()\n    }, {\n      key: \"2010\",\n      value: _randomNum()\n    }]\n  },\n  {\n    key: \"COs\",\n    values: [{\n      key: \"2004\",\n      value: _randomNum()\n    }, {\n      key: \"2005\",\n      value: _randomNum()\n    }, {\n      key: \"2006\",\n      value: _randomNum()\n    }, {\n      key: \"2007\",\n      value: _randomNum()\n    }, {\n      key: \"2008\",\n      value: _randomNum()\n    }, {\n      key: \"2009\",\n      value: _randomNum()\n    }, {\n      key: \"2010\",\n      value: _randomNum()\n    }]\n  },\n  {\n    key: \"Oranges\",\n    values: [{\n      key: \"2004\",\n      value: _randomNum()\n    }, {\n      key: \"2005\",\n      value: _randomNum()\n    }, {\n      key: \"2006\",\n      value: _randomNum()\n    }, {\n      key: \"2007\",\n      value: _randomNum()\n    }, {\n      key: \"2008\",\n      value: _randomNum()\n    }, {\n      key: \"2009\",\n      value: _randomNum()\n    }, {\n      key: \"2010\",\n      value: _randomNum()\n    }]\n  }, {\n    key: \"Pears\",\n    values: [{\n      key: \"2004\",\n      value: _randomNum()\n    }, {\n      key: \"2005\",\n      value: _randomNum()\n    }, {\n      key: \"2006\",\n      value: _randomNum()\n    }, {\n      key: \"2007\",\n      value: _randomNum()\n    }, {\n      key: \"2008\",\n      value: _randomNum()\n    }, {\n      key: \"2009\",\n      value: _randomNum()\n    }, {\n      key: \"2010\",\n      value: _randomNum()\n    }]\n  }, {\n    key: \"Kiwis\",\n    values: [{\n      key: \"2004\",\n      value: _randomNum()\n    }, {\n      key: \"2005\",\n      value: _randomNum()\n    }, {\n      key: \"2006\",\n      value: _randomNum()\n    }, {\n      key: \"2007\",\n      value: _randomNum()\n    }, {\n      key: \"2008\",\n      value: _randomNum()\n    }, {\n      key: \"2009\",\n      value: _randomNum()\n    }, {\n      key: \"2010\",\n      value: _randomNum()\n    }]\n  }];\n}\n\n// const getData = () => {\n//   return [\n// {\n// \tkey: \"data-1\",\n// \tvalues: [\n// \t\t\t\t\t\t{key: \"2004\", value: 8},\n// \t\t\t\t\t\t{key: \"2005\", value: 4},\n// \t\t\t\t\t\t{key: \"2006\", value: 10},\n// \t\t\t\t\t\t{key: \"2007\", value: 11},\n// \t\t\t\t\t\t{key: \"2008\", value: 6},\n// \t\t\t\t\t\t{key: \"2009\", value: 10},\n// \t\t\t\t\t\t{key: \"2010\", value: 16}\n// \t\t\t\t\t]\n// },\n// {\n// \tkey: \"data-2\",\n// \tvalues: [\n// \t\t\t\t\t\t{key: \"2004\", value: 2},\n// \t\t\t\t\t\t{key: \"2005\", value: 4},\n// \t\t\t\t\t\t{key: \"2006\", value: 10},\n// \t\t\t\t\t\t{key: \"2007\", value: 7},\n// \t\t\t\t\t\t{key: \"2008\", value: 20},\n// \t\t\t\t\t\t{key: \"2009\", value: 6},\n// \t\t\t\t\t\t{key: \"2010\", value: 18}\n// \t\t\t\t\t]\n// },\n// {\n// \tkey: \"data-3\",\n// \tvalues: [\n// \t\t\t\t\t\t{key: \"2004\", value: 1},\n// \t\t\t\t\t\t{key: \"2005\", value: 2},\n// \t\t\t\t\t\t{key: \"2006\", value: 3},\n// \t\t\t\t\t\t{key: \"2007\", value: 4},\n// \t\t\t\t\t\t{key: \"2008\", value: 6},\n// \t\t\t\t\t\t{key: \"2009\", value: 10},\n// \t\t\t\t\t\t{key: \"2010\", value: 4}\n// \t\t\t\t\t]\n// },\n// {\n// \tkey: \"data-4\",\n// \tvalues: [\n// \t\t\t\t\t\t{key: \"2004\", value: 1},\n// \t\t\t\t\t\t{key: \"2005\", value: 2},\n// \t\t\t\t\t\t{key: \"2006\", value: 3},\n// \t\t\t\t\t\t{key: \"2007\", value: 4},\n// \t\t\t\t\t\t{key: \"2008\", value: 6},\n// \t\t\t\t\t\t{key: \"2009\", value: 10},\n// \t\t\t\t\t\t{key: \"2010\", value: 4}\n// \t\t\t\t\t]\n// }\n// ];\n// }\n\nconst { rowKeys, columnKeys } = dataTransform(getData()).summary()\n\nconst margins = { top: 50, right: 15, bottom: 100, left: 60 }\nconst svgDimensions = { width: 800, height: 500 }\n\nconst maxRadius = 24;\nconst minRadius = 2;\nconst maxValue = d3.max(getData()[1].values, (d) => d.value)\nlet rowHeightConst = -7;\n\n// if (this.state.data.length === 4) {\n//   console.log(\"get d\")\n//   rowHeightConst = 2;\n// }\n// else if (this.state.dat.length === 4) {\n//   rowHeightConst = -6;\n// }\n\nconst rowHeight = (maxRadius * 2) + rowHeightConst;\n\nconst xScale = scaleBand()\n  .domain(columnKeys)\n  .range([margins.left, svgDimensions.width - margins.right])\n  .padding(1);\n\nconst yScale = scaleBand()\n  .domain(rowKeys)\n  .range([svgDimensions.height - margins.bottom, margins.top])\n  .padding(1);\n\nconst rScale = scaleLinear()\n  .domain([0, maxValue])\n  .range([minRadius, maxRadius]);\n\nclass Scatter extends React.Component {\n\n  constructor() {\n    super();\n    this.xScale = scaleBand()\n    this.yScale = scaleBand()\n    this.rScale = scaleLinear()\n    this.state = {\n      data: getData()\n    }\n  }\n\n  componentDidMount() {\n\n  }\n\n  render() {\n\n    const data = this.state.data\n    const svg = d3.select(this.refs.svg)\n\n    return(\n      <div className=\"scatterContainer\">\n        <svg width={svgDimensions.width} height={svgDimensions.height} ref={(node) => { this.svg = node; }}>\n          <Axes\n           scales={{ xScale, yScale }}\n           margins={margins}\n           svgDimensions={svgDimensions}\n           ticksX={7}\n           ticksY={4}\n         />\n         <g ref={(node) => { this.chartArea = node; }} />\n        {data.map((d, i) => <Circles\n          scales={{ xScale, yScale, rScale }}\n          margins={margins}\n          data={d}\n          index={i}\n          rowKeys={rowKeys}\n          columnKeys={columnKeys}\n          maxValue={maxValue}\n          rowHeight={rowHeight}\n          svg={this.svg}\n          svgDimensions={svgDimensions}\n        />)}\n      </svg>\n      </div>\n    )\n  }\n}\n\nexport default Scatter;\n","import * as d3 from \"d3\";\n/**\n * Data Transform\n *\n * @module\n * @returns {Array}\n */\nexport default function dataTransform(data) {\n\tconst SINGLE_SERIES = 1;\n\tconst MULTI_SERIES = 2;\n\tconst coordinateKeys = ['x', 'y', 'z'];\n\t/**\n\t * Data Type\n\t *\n\t * @type {Number}\n\t */\n\tconst dataType = data.key !== undefined ? SINGLE_SERIES : MULTI_SERIES;\n\t/**\n\t * Row Key\n\t *\n\t * @returns {Array}\n\t */\n\tconst rowKey = function() {\n\t\tif (dataType === SINGLE_SERIES) {\n\t\t\treturn d3.values(data)[0];\n\t\t}\n\t}();\n\t/**\n\t * Row Total\n\t *\n\t * @returns {Array}\n\t */\n\tconst rowTotal = function() {\n\t\tif (dataType === SINGLE_SERIES) {\n\t\t\treturn d3.sum(data.values, (d) => d.value);\n\t\t}\n\t}();\n\t/**\n\t * Row Keys\n\t *\n\t * @returns {Array}\n\t */\n\tconst rowKeys = function() {\n\t\tif (dataType === MULTI_SERIES) {\n\t\t\treturn data.map((d) => d.key);\n\t\t}\n\t}();\n\t/**\n\t * Row Totals\n\t *\n\t * @returns {Array}\n\t */\n\tconst rowTotals = function() {\n\t\tif (dataType === MULTI_SERIES) {\n\t\t\tconst ret = {};\n\t\t\td3.map(data).values().forEach((d) => {\n\t\t\t\tconst rowKey = d.key;\n\t\t\t\td.values.forEach((d) => {\n\t\t\t\t\tret[rowKey] = (typeof ret[rowKey] === \"undefined\") ? 0 : ret[rowKey];\n\t\t\t\t\tret[rowKey] += d.value;\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn ret;\n\t\t}\n\t}();\n\t/**\n\t * Row Totals Max\n\t *\n\t * @returns {number}\n\t */\n\tconst rowTotalsMax = function() {\n\t\tif (dataType === MULTI_SERIES) {\n\t\t\treturn d3.max(d3.values(rowTotals));\n\t\t}\n\t}();\n\t/**\n\t * Row Value Keys\n\t *\n\t * @returns {Array}\n\t */\n\tconst rowValuesKeys = function() {\n\t\tif (dataType === SINGLE_SERIES) {\n\t\t\treturn Object.keys(data.values[0]);\n\t\t} else {\n\t\t\treturn Object.keys(data[0].values[0]);\n\t\t}\n\t}();\n\t/**\n\t * Union Two Arrays\n\t *\n\t * @private\n\t * @param {Array} array1 - First Array.\n\t * @param {Array} array2 - First Array.\n\t * @returns {Array}\n\t */\n\tconst union = function(array1, array2) {\n\t\tconst ret = [];\n\t\tconst arr = array1.concat(array2);\n\t\tlet len = arr.length;\n\t\tconst assoc = {};\n\t\twhile (len--) {\n\t\t\tconst item = arr[len];\n\t\t\tif (!assoc[item]) {\n\t\t\t\tret.unshift(item);\n\t\t\t\tassoc[item] = true;\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t};\n\t/**\n\t * Column Keys\n\t *\n\t * @returns {Array}\n\t */\n\tconst columnKeys = function() {\n\t\tif (dataType === SINGLE_SERIES) {\n\t\t\treturn d3.values(data.values).map((d) => d.key);\n\t\t}\n\t\tlet ret = [];\n\t\td3.map(data).values().forEach((d) => {\n\t\t\tconst tmp = [];\n\t\t\td.values.forEach((d, i) => {\n\t\t\t\ttmp[i] = d.key;\n\t\t\t});\n\t\t\tret = union(tmp, ret);\n\t\t});\n\t\treturn ret;\n\t}();\n\t/**\n\t * Column Totals\n\t *\n\t * @returns {Array}\n\t */\n\tconst columnTotals = function() {\n\t\tif (dataType !== MULTI_SERIES) {\n\t\t\treturn;\n\t\t}\n\t\tlet ret = {};\n\t\td3.map(data).values().forEach((d) => {\n\t\t\td.values.forEach((d) => {\n\t\t\t\tconst columnName = d.key;\n\t\t\t\tret[columnName] = (typeof(ret[columnName]) === \"undefined\" ? 0 : ret[columnName]);\n\t\t\t\tret[columnName] += d.value;\n\t\t\t});\n\t\t});\n\t\treturn ret;\n\t}();\n\t/**\n\t * Column Totals Max\n\t *\n\t * @returns {Array}\n\t */\n\tconst columnTotalsMax = function() {\n\t\tif (dataType === MULTI_SERIES) {\n\t\t\treturn d3.max(d3.values(columnTotals));\n\t\t}\n\t}();\n\t/**\n\t * Value Min\n\t *\n\t * @returns {number}\n\t */\n\tconst valueMin = function() {\n\t\tif (dataType === SINGLE_SERIES) {\n\t\t\treturn d3.min(data.values, (d) => +d.value);\n\t\t}\n\t\tlet ret;\n\t\td3.map(data).values().forEach((d) => {\n\t\t\td.values.forEach((d) => {\n\t\t\t\tret = (typeof(ret) === \"undefined\" ? d.value : d3.min([ret, +d.value]));\n\t\t\t});\n\t\t});\n\t\treturn +ret;\n\t}();\n\t/**\n\t * Value Max\n\t *\n\t * @returns {number}\n\t */\n\tconst valueMax = function() {\n\t\tlet ret;\n\t\tif (dataType === SINGLE_SERIES) {\n\t\t\tret = d3.max(data.values, (d) => +d.value);\n\t\t} else {\n\t\t\td3.map(data).values().forEach((d) => {\n\t\t\t\td.values.forEach((d) => {\n\t\t\t\t\tret = (typeof ret !== \"undefined\" ? d3.max([ret, +d.value]) : +d.value);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn ret;\n\t}();\n\t/**\n\t * Value Extent\n\t *\n\t * @returns {Array}\n\t */\n\tconst valueExtent = function() {\n\t\treturn [valueMin, valueMax];\n\t}();\n\t/**\n\t * Coordinates Min\n\t *\n\t * @returns {Array}\n\t */\n\tconst coordinatesMin = function() {\n\t\tlet ret = {};\n\t\tif (dataType === SINGLE_SERIES) {\n\t\t\tcoordinateKeys.forEach((key) => {\n\t\t\t\tret[key] = d3.min(data.values, (d) => +d[key]);\n\t\t\t});\n\t\t\treturn ret;\n\t\t} else {\n\t\t\td3.map(data).values().forEach((d) => {\n\t\t\t\td.values.forEach((d) => {\n\t\t\t\t\tcoordinateKeys.forEach((key) => {\n\t\t\t\t\t\tret[key] = (key in ret ? d3.min([ret[key], +d[key]]) : d[key]);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn ret;\n\t}();\n\t/**\n\t * Coordinates Max\n\t *\n\t * @returns {Array}\n\t */\n\tconst coordinatesMax = function() {\n\t\tlet ret = {};\n\t\tif (dataType === SINGLE_SERIES) {\n\t\t\tcoordinateKeys.forEach((key) => {\n\t\t\t\tret[key] = d3.max(data.values, (d) => +d[key]);\n\t\t\t});\n\t\t\treturn ret;\n\t\t} else {\n\t\t\td3.map(data).values().forEach((d) => {\n\t\t\t\td.values.forEach((d) => {\n\t\t\t\t\tcoordinateKeys.forEach((key) => {\n\t\t\t\t\t\tret[key] = (key in ret ? d3.max([ret[key], +d[key]]) : d[key]);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn ret;\n\t}();\n\t/**\n\t * Coordinates Extent\n\t *\n\t * @returns {Array}\n\t */\n\tconst coordinatesExtent = function() {\n\t\tlet ret = {};\n\t\tcoordinateKeys.forEach(function(key) {\n\t\t\tret[key] = [coordinatesMin[key], coordinatesMax[key]]\n\t\t});\n\t\treturn ret;\n\t}();\n\t/**\n\t * How Many Decimal Places?\n\t *\n\t * @private\n\t * @param {number} num - Float.\n\t * @returns {number}\n\t */\n\tconst decimalPlaces = function(num) {\n\t\tconst match = (\"\" + num).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n\t\tif (!match) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn Math.max(\n\t\t\t0,\n\t\t\t// Number of digits right of decimal point.\n\t\t\t(match[1] ? match[1].length : 0)\n\t\t\t// Adjust for scientific notation.\n\t\t\t-\n\t\t\t(match[2] ? +match[2] : 0)\n\t\t);\n\t};\n\t/**\n\t * Max Decimal Place\n\t *\n\t * @returns {number}\n\t */\n\tconst maxDecimalPlace = function() {\n\t\tlet ret = 0;\n\t\tif (dataType === MULTI_SERIES) {\n\t\t\td3.map(data).values().forEach((d) => {\n\t\t\t\td.values.forEach((d) => {\n\t\t\t\t\tret = d3.max([ret, decimalPlaces(d.value)])\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\t// toFixed must be between 0 and 20\n\t\treturn ret > 20 ? 20 : ret;\n\t}();\n\t/**\n\t * Thresholds\n\t *\n\t * @returns {Array}\n\t */\n\tconst thresholds = function() {\n\t\tconst distance = valueMax - valueMin;\n\t\tconst bands = [0.15, 0.40, 0.55, 0.90];\n\t\treturn bands.map((v) => Number((valueMin + (v * distance)).toFixed(maxDecimalPlace)));\n\t}();\n\t/**\n\t * Summary\n\t *\n\t * @returns {Array}\n\t */\n\tconst summary = function() {\n\t\treturn {\n\t\t\tdataType: dataType,\n\t\t\trowKey: rowKey,\n\t\t\trowTotal: rowTotal,\n\t\t\trowKeys: rowKeys,\n\t\t\trowTotals: rowTotals,\n\t\t\trowTotalsMax: rowTotalsMax,\n\t\t\trowValuesKeys: rowValuesKeys,\n\t\t\tcolumnKeys: columnKeys,\n\t\t\tcolumnTotals: columnTotals,\n\t\t\tcolumnTotalsMax: columnTotalsMax,\n\t\t\tvalueMin: valueMin,\n\t\t\tvalueMax: valueMax,\n\t\t\tvalueExtent: valueExtent,\n\t\t\tcoordinatesMin: coordinatesMin,\n\t\t\tcoordinatesMax: coordinatesMax,\n\t\t\tcoordinatesExtent: coordinatesExtent,\n\t\t\tmaxDecimalPlace: maxDecimalPlace,\n\t\t\tthresholds: thresholds\n\t\t}\n\t};\n\t/**\n\t * Rotate Data\n\t *\n\t * @returns {Array}\n\t */\n\tconst rotate = function() {\n\t\tconst columnKeys = data.map((d) => d.key);\n\t\tconst rowKeys = data[0].values.map((d) => d.key);\n\t\tconst rotated = rowKeys.map((rowKey, rowIndex) => {\n\t\t\tconst values = columnKeys.map((columnKey, columnIndex) => {\n\t\t\t\t// Copy the values from the original object\n\t\t\t\tconst values = Object.assign({}, data[columnIndex].values[rowIndex]);\n\t\t\t\t// Swap the key over\n\t\t\t\tvalues.key = columnKey;\n\t\t\t\treturn values;\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tkey: rowKey,\n\t\t\t\tvalues: values\n\t\t\t};\n\t\t});\n\t\treturn rotated;\n\t};\n\treturn {\n\t\tsummary: summary,\n\t\trotate: rotate\n\t};\n}\n","import moment from 'moment';\nimport dayjs from 'dayjs'\nimport toObject from 'dayjs/plugin/toObject'\nimport weekday from 'dayjs/plugin/weekday'\nimport * as d3 from \"d3\";\nimport weekOfYear from 'dayjs/plugin/weekOfYear'\n\nexport const extractDate = timeStamp => moment(`${timeStamp.split('T')[0]}`, 'YYYYMMDDxxx').format('YYYY-MM-DD').split('T')[0];\n\nexport const howManyInDay = arr => arr.reduce(function(obj, item) {\n  obj[item] = (obj[item] || 0) + 1;\n  return obj;\n}, {});\n\nexport const howManyInMonth = arr => arr.reduce(function(obj, item) {\n  obj[item.split('-')[1]] = (obj[item.split('-')[1]] || 0) + 1;\n  return obj;\n}, {});\n\nexport const getDayOfWeek = date => {\n  const dayOfWeek = new Date(date).getDay();\n  return isNaN(dayOfWeek) ? null : ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][dayOfWeek];\n}\n\nconst parseDate = timeStamp => moment(`${timeStamp.split('T')[0]}`, 'YYYYMMDDxxx')\n  .format('YYYY-MM-DD').split('T')[0];\n\nconst parseTime = (timeStamp, offset) => {\n  const timeString = timeStamp.split('T')[1].slice(0, -1);\n  const value = offset || (timeStamp.split(';')[1]).split(';')[0];\n  return moment.utc(`${timeString}`, 'HH:mm:ss').utcOffset(value).format('HH:mm:ss');\n};\n\nexport const getDayInsights = data => {\n  dayjs.extend(weekday)\n  let newData = data.map(item => ({ date: parseDate(item[data.columns[0]]), time: parseTime(item[data.columns[0]], item[data.columns[1]]) }));\n  newData.unshift({\n    date: parseDate(data.columns[0]),\n    time: parseTime(data.columns[0], data.columns[1])\n  });\n  return groupBy(newData);\n};\n\nexport const getDayHoursArr = (data, timeStamp) => {\n  let thisDayHours = data[timeStamp]\n  return groupByHoursArr(thisDayHours)\n}\n\nexport const getDayHours = (data, timeStamp) => {\n  let thisDayHours = data[timeStamp]\n  return groupByHours(thisDayHours)\n}\n\nexport const getAvg = obj => {\n  let sum, mean\n  let tmpSumArr = []\n  obj.map(hour => {\n    tmpSumArr.push(hour.value)\n  })\n  return d3.mean(tmpSumArr)\n}\n\nconst groupByHours = arr => {\n  let groupedByObj = {}\n  for (let i=1; i< 25; i++) {\n    groupedByObj[i] = 0;\n  }\n  arr.filter(a => {\n  const hour = parseInt(a.split(':')[0])\n  if (Object.keys(groupedByObj).includes(hour.toString())) {\n      groupedByObj[hour]++;\n  } else {\n      groupedByObj[hour] = 1;\n  }\n});\nreturn groupedByObj;\n}\n\nexport const groupByHoursArr = arr => {\n  let groupedByObj = {}\n  let arrayOfHours = []\n  for (let i=1; i< 25; i++) {\n    arrayOfHours.push({key: i, value: 0});\n  }\n  arr.filter(a => {\n    const hour = parseInt(a.split(':')[0])\n    if (arrayOfHours.some(e => e.key === hour)) {\n      arrayOfHours[hour].value++\n    }\n    if (arrayOfHours.some(e => e.key === 0)) {\n      arrayOfHours[24].value++\n    }\n});\n\n// console.log('arrayOfHours', arrayOfHours)\nreturn arrayOfHours;\n}\n\nconst groupBy = arr => arr.reduce(function (r, a) {\n  r[a.date] = r[a.date] || [];\n  r[a.date].push(a.time);\n  return r;\n}, {});\n\nexport const howManyWeekDayMonth = (arr, countedDays) => arr.reduce(function(obj, item) {\n  let date = new Date(item)\n  let weekdaysArr = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n  let weekdays = {}\n\n  weekdaysArr.map((day) => (\n    weekdays[day] = countedDays[item]\n  ))\n\n  obj[item.split('-')[1]] = Object.assign(\n    {},\n    weekdays\n  );\n\n  return obj\n\n}, {});\n\nexport const parseData = (data) => {\n  const cleaned = data.map(item => (item[data.columns[0]]).replace(/[-:.]/g, ''));\n  let newData = cleaned.map(item => ({ timestamp: extractDate(item) }));\n  //add at the beginning of array\n  newData.unshift({ timestamp: extractDate(data.columns[0]) });\n  const dataArr = newData.map(item => item.timestamp);\n  return dataArr\n};\n\nexport const getWeekday = (timeStamp) => {\n  dayjs.extend(weekday)\n  let weekdaysArr = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n  return dayjs(timeStamp).weekday()\n  // return weekdaysArr[dayjs(timeStamp).weekday()]\n}\n\nexport const getFilteredbyWeekday = (dayInsights, weekday) => {\n  let filtered = Object.keys(dayInsights)\n  .filter(key => dayjs(key).weekday() === weekday)\n  .reduce((obj, key) => {\n      obj[key] = dayInsights[key];\n      return obj;\n    }, {});\n  return filtered\n}\n\nexport const getWeekdayInsights = (dayInsights, weekday) => {\n\n  dayjs.extend(toObject)\n  //dayjs('2019-12-09').toObject() months are returned from 0 to 11\n  // console.log('Oobject', dayjs(Object.keys(dayInsights)[0]).toObject())\n  let filtered = Object.keys(dayInsights)\n  .filter(key => dayjs(key).weekday() === weekday)\n  .reduce((obj, key) => {\n      obj[key] = dayInsights[key];\n      return obj;\n    }, {});\n\n  let mergedWeekdaysData = Object.keys(filtered).reduce(function(res, v) {\n    return res.concat(filtered[v]);\n  }, []);\n  return mergedWeekdaysData\n}\n\nexport const getMonthArr = (monthData) => {\n\n  dayjs.extend(toObject)\n  //dayjs('2019-12-09').toObject() months are returned from 0 to 11\n  // console.log('Oobject', dayjs(Object.keys(dayInsights)[0]).toObject())\n  // let filtered = Object.keys(monthData)\n  // .reduce((obj, key) => {\n  //     obj[key] = monthData[key];\n  //     return obj;\n  //   }, {});\n\n  let mergedWeekdaysData = Object.keys(monthData).reduce(function(res, v) {\n    return res.concat(monthData[v]);\n  }, []);\n  return mergedWeekdaysData\n}\n\nexport const getWeekdayInsightsFilteredByMonth = (dayInsights, weekday, month) => {\n\n  dayjs.extend(toObject)\n  //dayjs('2019-12-09').toObject() months are returned from 0 to 11\n  // console.log('Oobject', dayjs(Object.keys(dayInsights)[0]).toObject())\n  let filteredByDay = Object.keys(dayInsights)\n  .filter(key => dayjs(key).weekday() === weekday)\n  .reduce((obj, key) => {\n      obj[key] = dayInsights[key];\n      return obj;\n    }, {});\n\n  let filteredByMonth = Object.keys(filteredByDay)\n  .filter(key => dayjs(key).toObject().months === month)\n  .reduce((obj, key) => {\n      obj[key] = dayInsights[key];\n      return obj;\n    }, {});\n\n  let mergedWeekdaysData = Object.keys(filteredByMonth).reduce(function(res, v) {\n    return res.concat(filteredByMonth[v]);\n  }, []);\n  return mergedWeekdaysData\n}\n\nconst getDates = (startDate, endDate) => {\n  let dates = [],\n      currentDate = startDate,\n      addDays = function(days) {\n        const date = new Date(this.valueOf());\n        date.setDate(date.getDate() + days);\n        return date;\n      };\n  while (currentDate <= endDate) {\n    dates.push(currentDate.toISOString().split('T')[0]);\n    currentDate = addDays.call(currentDate, 1);\n  }\n  return dates;\n};\n\n//returns object where key is a day and value is an array of timestamps\nexport const getMonthInsights = (dayInsights, month, year) => {\n    dayjs.extend(toObject);\n\n    let filteredByMonth = Object.keys(dayInsights)\n    .filter(key => dayjs(key).toObject().months === month)\n    .reduce((obj, key) => {\n        obj[key] = dayInsights[key];\n        return obj;\n      }, {});\n\n      let monthStr = month.toString();\n      if (month < 10) {\n        monthStr = \"0\" + monthStr;\n      }\n\n      const date = new Date(`${year}-${month + 1}`);\n      const firstDay = new Date(date.getFullYear(), date.getMonth(), 1).getDate();\n      const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n\n      if (dayjs(Object.keys(filteredByMonth)[0]).toObject().months === month) {\n       let firstDate = `${year}-${monthStr}-${firstDay}`;\n       let lastDate = `${year}-${monthStr}-${lastDay}`;\n\n        let dates = getDates(\n          new Date(firstDate.split('-')[0], firstDate.split('-')[1], firstDate.split('-')[2]),\n          new Date(lastDate.split('-')[0], lastDate.split('-')[1], lastDate.split('-')[2])\n          );\n\n        dates = dates.slice(1);\n\n        let addedDates = {};\n\n        for (let i = 0; i < dates.length; i++) {\n            addedDates[dates[i]] = filteredByMonth[dates[i]] || [];\n        }\n\n        // console.log({...addedDates, ...filteredByMonth}, filteredByMonth)\n\n        return {...addedDates, ...filteredByMonth};\n      }\n\n      return filteredByMonth;\n}\n\n//Returns which month is a date\nexport const getMonth = (currentDay) => {\n  dayjs.extend(toObject)\n  return dayjs(currentDay).toObject().months\n}\n\nexport const getMonthPlusOne = (currentDay) => {\n  dayjs.extend(toObject)\n  return dayjs(currentDay).toObject().months + 1\n}\n\nexport const getMonthName = (currentDay) => {\n  dayjs.extend(toObject)\n  let months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n  return months[dayjs(currentDay).toObject().months]\n}\n\nexport const getMonthNameForWeek = (currentDay) => {\n  dayjs.extend(toObject)\n  let months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n  return months[dayjs(currentDay).toObject().months + 1]\n}\n\nexport const getMonthNameFromMonthNr = (month) => {\n  // dayjs.extend(toObject)\n  let months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n  return months[month]\n}\n\nexport const getMonthNrFromName = (month) => {\n  // dayjs.extend(toObject)\n  let months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n  return months.indexOf(month);\n}\n\nexport const getWeekdayName = (timeStamp) => {\n  dayjs.extend(weekday)\n  let weekdaysArr = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n  let dayNr = dayjs(timeStamp).weekday()\n  return weekdaysArr[dayNr]\n}\n\nexport const getMonths = (obj) => {\n  let monthsArray = [];\n  dayjs.extend(toObject)\n  Object.keys(obj)\n    .map(item => {\n      if (monthsArray.indexOf(item) === -1) {\n        monthsArray.push(dayjs(item).toObject().months)\n      }\n    })\n  monthsArray = [...new Set(monthsArray)]\n  return monthsArray\n}\n\nexport const getWeekInsights = (currentDay, monthInsights) => {\n  dayjs.extend(weekOfYear)\n  let week = moment(currentDay).isoWeekday(1).format('w')\n\n  let filteredByWeek = Object.keys(monthInsights)\n  .filter(key => moment(key).isoWeekday(1).format('w') === week)\n  .reduce((obj, key) => {\n      obj[key] = monthInsights[key];\n      return obj;\n    }, {});\n\n  return filteredByWeek\n\n};\n\nexport const getWeekNr = (timeStamp) => {\n  dayjs.extend(weekOfYear)\n  return dayjs(timeStamp).week()\n}\n\nexport const getWeeklyViolinData = (weekData) => {\n\n}\n\nexport const getWeekdayNr = (currentDay) => {\n  dayjs.extend(toObject)\n  return dayjs(currentDay).toObject()\n}\n\nexport const getTotalInDay = (obj) => {\n  let counter = 0;\n  Object.values(obj).map(elem => {\n    counter = counter + elem.value\n  })\n  return counter;\n}\n\n//all days in a month\nexport const filteredByMonth = (allDaysArr, month) => {\n  let filtered = allDaysArr\n  .filter(key => dayjs(key).toObject().months === month)\n\n  // console.log('filtered ', filtered)\n  return filtered\n}\n\n// returns object of key (hour) and value (average occurence in this hour)\nexport const avgWeekdayHours = (data, totalWeekdays) => {\n  let avgData = data.map(item => ({\n    key: item.key,\n    value: (item.value)/totalWeekdays\n  }))\n  return avgData\n}\n","import React, {createRef} from 'react';\nimport * as d3 from \"d3\";\nimport {scaleLinear, scaleBand, scaleTime, scaleRadial, schemeCategory20c } from 'd3-scale';\nimport { select as d3Select } from 'd3-selection'\nimport { getSunrise, getSunset } from 'sunrise-sunset-js';\nimport dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat'\nimport advancedFormat from 'dayjs/plugin/advancedFormat'\n\n// import data from './../data/itching.csv';\nimport *  as dataParser from '../dataParser.js';\nimport './radialLineChart.scss'\n\n\nconst margin = {top: 20, right: 10, bottom: 20, left: 10};\n\nconst width = 650 - margin.left - margin.right,\n  height = 650 - margin.top - margin.bottom;\n\nconst innerRadius = 100,\n    outerRadius = Math.min(width, height) / 2 - 6;\n\nconst formatHour = d3.timeFormat(\"%I %p\")\n\nconst fullCircle = 2 * Math.PI * 23/24;\nconst circleDegree = 360;\n\nconst y = scaleRadial()\n    .range([innerRadius, outerRadius]);\n\n\nclass RadialLineChart extends React.Component {\n\n componentDidUpdate(prevProps) {\n\n   console.log('did updateeee prevProps', prevProps)\n   console.log('did updateeee props', this.props)\n   if (prevProps !== this.props) {\n     d3.select(\"svg\").selectAll(\"*\").remove();\n     this.renderRadial();\n   }\n }\n\n componentDidMount() {\n\n   this.renderRadial()\n }\n\n degToRad(degrees) {\n   return degrees * Math.PI / 180;\n }\n\n clockToRad(clock, direction) {\n   var unit = circleDegree / 12;\n   var degree = direction > 0 ? unit * clock : unit * clock - circleDegree;\n   return this.degToRad(degree);\n }\n\n getCoordFromCircle(deg, cx, cy, r) {\n   var rad = this.degToRad(deg);\n   var x = cx + r * Math.cos(rad);\n   var y = cy + r * Math.sin(rad);\n   return [x, y];\n }\n\n splitDegrees(num) {\n   var angle = circleDegree / num;\n   var degrees = [];\n\n   for (var ang = 0; ang < circleDegree; ang += angle) {\n     degrees.push(ang);\n   }\n\n   return degrees;\n }\n\n  renderRadial = () => {\n\n    const x = scaleLinear()\n\n    if (this.props.clockConfig === 'Midnight Up') {\n      x.range([0, fullCircle]);\n    }\n    else {\n      x.range([0 + Math.PI, fullCircle + Math.PI]);\n    }\n\n\n    const line = d3.lineRadial()\n  \t\t.angle(function(d) { return x(d.key); })\n  \t\t.radius(function(d) { return y(d.value); })\n      .curve(this.props.lineType)\n\n    const currentDay = this.props.currentDay\n    console.log('currentDay', currentDay)\n    const data = this.props.dataDayHours;\n\n    // dayjs.extend(LocalizedFormat)\n    dayjs.extend(advancedFormat)\n\n    let sunset, sunrise;\n\n    if (currentDay !== undefined) {\n     sunset = dayjs(getSunset(55.67594, 12.56553, new Date(currentDay))).format('k');\n     sunrise = dayjs(getSunrise(55.67594, 12.56553, new Date(currentDay))).format('k')\n    }\n    sunset = parseInt(sunset)/2\n    sunrise = parseInt(sunrise)/2\n\n    const svg = d3.select(this.refs.svgElem);\n    const gSelect = svg.selectAll('.radial').data(data);\n\n    gSelect.exit()\n    .classed('radial', false)\n    .attr('opacity', 0.8)\n    .transition()\n    .attr('opacity', 0)\n    .remove();\n\n    // current.interrupt();\n\n    var gEnter = gSelect.enter().append(\"g\")\n    // const g = svg\n    // .append(\"g\")\n    .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\")\n    .classed('radial', true);\n\n    const exit = gSelect.exit().classed('radial', false);\n    exit\n    .attr('opacity', 0.8)\n    .transition()\n    .attr('opacity', 0)\n    .remove();\n\n    x.domain(d3.extent(data, function(d) { return d.key; }));\n    if (this.props.avgAllDataChecked) {\n      y.domain(d3.extent(this.props.minMaxWeekdayData, function(d) { return d; }));\n    }\n    if (this.props.avgMonthDataChecked) {\n      y.domain(d3.extent(this.props.minMaxAllData, function(d) { return d; }));\n    }\n    if (this.props.avgMonthDataChecked === false && this.props.avgAllDataChecked === false) {\n      y.domain(d3.extent(data, function(d) { return d.value; }));\n    }\n\n    var yAxis = d3.selectAll('.radial').append(\"g\")\n    .attr(\"text-anchor\", \"middle\");\n\n    var yTick = yAxis\n    .selectAll(\".radial\")\n    // .selectAll(\"g\")\n    .data(y.ticks(6))\n    .enter().append(\"g\");\n\n    yTick.append(\"circle\")\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"#edf1f4\")\n      .attr(\"r\", function(d) {return y(d)});\n\n\n    var numColors = 9;\n    var colorScale = d3.scaleLinear()\n      .domain([0,(numColors-1)/2,numColors-1])\n      // .range([\"#ffffd9\", '#41B6C4',\"#081d58\"])\n      // .range([\"#ffffd9\",\"#c7e9b4\",'#41B6C4', \"#41b6c4\",\"#225ea8\",\"#081d58\"])\n      .range([\"#F5D801\", \"#74D877\", \"#2A4858\"])\n      .interpolate(d3.interpolateHcl);\n\n    var gradient = d3.selectAll('.radial').append(\"defs\").append(\"radialGradient\")\n      .attr(\"id\", \"gradientRainbow\")\n      .attr(\"gradientUnits\", \"userSpaceOnUse\")\n      .attr(\"cx\", \"0%\")\n      .attr(\"cy\", \"0%\")\n      .attr(\"r\", \"45%\")\n      .selectAll(\"stop\")\n      .data(d3.range(numColors))\n      .enter().append(\"stop\")\n      .attr(\"offset\", function(d,i) { return (i/(numColors-1)*50 + 40) + \"%\"; })\n      .attr(\"stop-color\", function(d) { return colorScale(d); });\n\n    var linePlot = d3.selectAll('.radial').append(\"path\")\n      .datum(data)\n      .attr(\"fill\", \"url(#gradientRainbow)\")\n      .attr(\"stroke\", \"#213946\")\n      .attr(\"stroke-width\", 1)\n      .attr(\"d\", line);\n\n    var avgWeekday;\n    if (this.props.avgAllDataChecked) {\n      avgWeekday = d3.selectAll('.radial').append(\"path\")\n        .datum(this.props.avgWeekday)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#2A41E5\")\n        .attr(\"stroke-width\", 2)\n        .attr(\"d\", line);\n    }\n\n    var avgWeekdayInAMonth;\n    if (this.props.avgMonthDataChecked) {\n      avgWeekdayInAMonth = d3.selectAll('.radial').append(\"path\")\n        .datum(this.props.avgWeekdayInAMonth)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#9f59ea\")\n        .attr(\"stroke-width\", 2)\n        // .attr(\"stroke-width\", function(d) { console.log(d.value );return y(d.value); })\n        .attr(\"d\", line);\n    }\n\n\n    var yAxisWhite = d3.selectAll('.radial').append(\"g\")\n      .attr(\"text-anchor\", \"middle\");\n\n    yAxisWhite.append(\"circle\")\n      .attr(\"fill\", \"white\")\n      .attr(\"stroke\", \"black\")\n      .attr(\"opacity\", 1)\n      .attr(\"r\", function() { return y(y.domain()[0])});\n\n      var xAxis = svg.selectAll('.radial').append(\"g\");\n\n      var xTick = xAxis\n        // .selectAll(\"g\")\n        .selectAll(\".radial\")\n        .data(x.ticks(24))\n        .enter().append(\"g\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"transform\", function(d) {\n          return \"rotate(\" + ((x(d)) * 180 / Math.PI - 76) + \")translate(\" + innerRadius + \",0)\";\n        });\n\n      xTick.append(\"line\")\n        .attr(\"x2\", -5)\n        .attr(\"stroke\", \"#595D5C\");\n\n      xTick.append(\"text\")\n      .attr(\"transform\", function(d) {\n        var angle = x(d.key);\n        return ((angle < Math.PI / 2) || (angle > (Math.PI * 3 / 2))) ? \"rotate(90)translate(0,0)\" : \"rotate(-90)translate(0, -15)\"; })\n          .text(function(d) {\n          return d;\n      })\n      .style(\"font-size\", 10)\n      .attr(\"color\", \"#595D5C\")\n      .attr(\"opacity\", 1)\n\n      var yAxisText = d3.selectAll('.radial').append(\"g\")\n      .attr(\"text-anchor\", \"middle\");\n\n      var yTickText = yAxisText\n      .selectAll(\".radial\")\n      // .selectAll(\"g\")\n      .data(y.ticks(6))\n      .enter().append(\"g\");\n\n      yTickText.append(\"text\")\n        .attr(\"y\", function(d) { return -y(d); })\n        .attr(\"dy\", \"0.35em\")\n        .style('fill', '#565656')\n        .text(function(d, i) {\n          if (d === 0) {\n          return \"\"\n        }\n        else {\n          return d\n        }\n      });\n\n    //for from to pie chart\n    const radius = 70;\n    const fromClock = 15/2;\n    const toClock = 9/2;\n\n    var clockGroup, offSetX, offSetY, pi;\n    pi = Math.PI;\n\n    clockGroup = yAxisWhite.append(\"g\")\n      // .attr(\"rotate\", 90)\n      // .attr(\"transform\", \"translate(90)\");\n\n    var arc = d3.arc()\n      .innerRadius(0)\n      .outerRadius(radius)\n\n    if (this.props.clockConfig === 'Midnight Up') {\n      arc.startAngle(this.clockToRad(sunset, -1))\n      .endAngle(this.clockToRad(sunrise, 1));\n    }\n    else {\n      arc.startAngle(this.clockToRad(sunset, -1) + Math.PI)\n      .endAngle(this.clockToRad(sunrise, 1) + Math.PI);\n    }\n\n    //DAY\n    clockGroup.append(\"circle\")\n      .attr(\"r\", radius)\n      // .style('fill', '#1A1571')\n      .attr(\"fill\", \"#D0D6F9\")\n      .attr(\"class\", \"clock outercircle\")\n\n    //NIGHT\n    clockGroup.append('path')\n      .attr('d', arc)\n      // .attr(\"fill\", \"#D0D6F9\")\n      .style('fill', '#1A1571');\n\n  }\n\n  render() {\n    return(\n      <div className=\"radialContainer center\">\n\n        <svg width={650} height={650}\n            ref=\"svgElem\" className=\"radialSvg\">\n        </svg>\n\n      </div>\n    )\n  }\n}\n\nexport default RadialLineChart;\n","import React, {createRef} from 'react';\nimport * as d3 from \"d3\";\nimport {scaleLinear, scaleBand, scaleTime, scaleRadial, schemeCategory20c } from 'd3-scale';\nimport { select as d3Select } from 'd3-selection'\nimport moment from 'moment'\n\n// import data from './../data/itching.csv';\nimport *  as dataParser from '../dataParser.js';\nimport './weeklyRadial.scss'\n\n\nconst margin = {top: 20, right: 10, bottom: 20, left: 10};\n\nconst width = 650 - margin.left - margin.right,\n  height = 650 - margin.top - margin.bottom;\n\nconst innerRadius = 100,\n    outerRadius = Math.min(width, height) / 2 - 6;\n\nconst formatHour = d3.timeFormat(\"%I %p\")\n\nconst fullCircle = 2 * Math.PI * 23/24;\n\nconst y = scaleRadial()\n    .range([innerRadius, outerRadius]);\n\n\nclass WeeklyRadial extends React.Component {\n\n  componentDidUpdate(prevProps) {\n   if (prevProps !== this.props) {\n\n    console.log('prev props weekly raidal ', prevProps)\n    console.log(' props weekly raidal ', this.props)\n     d3.select(\"svg\").selectAll(\"*\").remove();\n     this.renderRadial();\n   }\n  }\n\n  componentDidMount() {\n    this.renderRadial()\n  }\n\n  renderRadial = () => {\n\n  const x = scaleLinear()\n\n  if (this.props.clockConfig === 'Midnight Up') {\n    x.range([0, fullCircle]);\n  }\n  else {\n    x.range([0 + Math.PI, fullCircle + Math.PI]);\n  }\n\n\n  const line = d3.lineRadial()\n  \t.angle(function(d) { return x(d.key); })\n  \t.radius(function(d) { return y(d.value); })\n    .curve(this.props.lineType)\n\n  const data = this.props.avgMonday;\n\n  const svg = d3.select(this.refs.svgElem);\n  const gSelect = svg.selectAll('.radial').data(data);\n\n  gSelect.exit()\n  .classed('radial', false)\n  .attr('opacity', 0.8)\n  .transition()\n  .attr('opacity', 0)\n  .remove();\n\n  // current.interrupt();\n\n  var gEnter = gSelect.enter().append(\"g\")\n  // const g = svg\n  // .append(\"g\")\n  .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\")\n  .classed('radial', true);\n\n  const exit = gSelect.exit().classed('radial', false);\n  exit\n  .attr('opacity', 0.8)\n  .transition()\n  .attr('opacity', 0)\n  .remove();\n\n  // Avg per month or per day (to compare) compare weekday with avg weekday\n  // make options to see how could it be compared\n  // minute by minute discuss in the report\n  // See different averages and compare?\n  // draw linecharts as a calendar -> to compare days in a month\n  // weekly data -> ranges radial chart with lines\n  // 26.11 14:00 meeting with Jakob\n\n  // const mean = dataParser.getAvg(this.props.avgWeekday)\n\n  x.domain(d3.extent(data, function(d) { return d.key; }));\n  y.domain(d3.extent(this.props.allAvgValues, function(d) { return d; }));\n\n  // var linePlot = gSelect.append(\"path\")\n\n  var yAxis = d3.selectAll('.radial').append(\"g\")\n  .attr(\"text-anchor\", \"middle\");\n\n  var yTick = yAxis\n  .selectAll(\".radial\")\n  .data(y.ticks(5))\n  .enter().append(\"g\");\n\n  yTick.append(\"circle\")\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"#edf1f4\")\n    .attr(\"opacity\", 1)\n    .attr(\"r\", function(d) {return y(d)});\n\n  var avgMonday = d3.selectAll('.radial').append(\"path\")\n    .datum(this.props.avgMonday)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"#1FB387\")\n    .attr(\"stroke-width\", 1)\n    .attr('opacity', 0.5)\n    .attr(\"d\", line);\n\n  var avgTuesday = d3.selectAll('.radial').append(\"path\")\n    .datum(this.props.avgTuesday)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"#1FB387\")\n    .attr(\"stroke-width\", 1)\n    .attr('opacity', 0.5)\n    .attr(\"d\", line);\n\n  var avgWednesday = d3.selectAll('.radial').append(\"path\")\n    .datum(this.props.avgWednesday)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"#1FB387\")\n    .attr(\"stroke-width\", 1)\n    .attr('opacity', 0.5)\n    .attr(\"d\", line);\n\n  var avgThursday = d3.selectAll('.radial').append(\"path\")\n    .datum(this.props.avgThursday)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"#1FB387\")\n    .attr(\"stroke-width\", 1)\n    .attr('opacity', 0.5)\n    .attr(\"d\", line);\n\n  var avgFriday = d3.selectAll('.radial').append(\"path\")\n    .datum(this.props.avgFriday)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"#1FB387\")\n    .attr(\"stroke-width\", 1)\n    .attr('opacity', 0.5)\n    .attr(\"d\", line);\n\n  var avgSaturday = d3.selectAll('.radial').append(\"path\")\n    .datum(this.props.avgSaturday)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"#2A41E5\")\n    .attr(\"stroke-width\", 2)\n    .attr('opacity', 0.5)\n    .attr(\"d\", line);\n\n  var avgSunday = d3.selectAll('.radial').append(\"path\")\n    .datum(this.props.avgSunday)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"#2A41E5\")\n    .attr(\"stroke-width\", 2)\n    .attr('opacity', 0.5)\n    .attr(\"d\", line);\n\n\n  yAxis.append(\"circle\")\n    .attr(\"fill\", \"white\")\n    .attr(\"stroke\", \"black\")\n    .attr(\"opacity\", 1)\n    .attr(\"r\", function() { return y(y.domain()[0])});\n\n  var yAxisWhite = d3.selectAll('.radial').append(\"g\")\n    .attr(\"text-anchor\", \"middle\");\n\n  yAxisWhite.append(\"circle\")\n    .attr(\"fill\", \"white\")\n    .attr(\"stroke\", \"black\")\n    .attr(\"opacity\", 1)\n    .attr(\"r\", function() { return y(y.domain()[0])});\n\n    yTick.append(\"text\")\n      .attr(\"y\", function(d) { return -y(d); })\n      .attr(\"dy\", \"0.35em\")\n      .text(function(d, i) {\n        if (d === 0) {\n        return \"\"\n      }\n      else {\n        return d\n      }\n    });\n\n\n    var xAxis = svg.selectAll('.radial').append(\"g\");\n\n    var xTick = xAxis\n      // .selectAll(\"g\")\n      .selectAll(\".radial\")\n      .data(x.ticks(24))\n      .enter().append(\"g\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"transform\", function(d) {\n      return \"rotate(\" + ((x(d)) * 180 / Math.PI - 90) + \")translate(\" + innerRadius + \",0)\";\n      });\n\n    xTick.append(\"line\")\n      .attr(\"x2\", -5)\n      .attr(\"stroke\", \"#595D5C\");\n\n    xTick.append(\"text\")\n      .attr(\"transform\", function(d) {\n        var angle = x(d.key);\n        return ((angle < Math.PI / 2) || (angle > (Math.PI * 3 / 2))) ? \"rotate(90)translate(0,22)\" : \"rotate(-90)translate(0, -15)\"; })\n          .text(function(d) {\n          return d;\n    })\n    .style(\"font-size\", 10)\n    .attr(\"color\", \"#595D5C\")\n    .attr(\"opacity\", 1)\n\n  }\n\n  render() {\n    return(\n      <div className=\"radialContainer center\">\n\n        <svg width={650} height={650}\n            ref=\"svgElem\" className=\"radialSvg\">\n        </svg>\n\n      </div>\n    )\n  }\n}\n\nexport default WeeklyRadial;\n","import React, {createRef} from 'react';\nimport * as d3 from \"d3\";\nimport {scaleLinear, scaleBand, scaleTime, scaleRadial, schemeCategory20c } from 'd3-scale';\nimport { select as d3Select } from 'd3-selection'\nimport moment from 'moment'\nimport dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\nimport { getSunrise, getSunset } from 'sunrise-sunset-js';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat'\nimport advancedFormat from 'dayjs/plugin/advancedFormat'\n\n// import data from './../data/itching.csv';\nimport *  as dataParser from '../dataParser.js';\nimport './calendarRadial.scss'\n\n\nconst margin = {top: 5, right: 5, bottom: 5, left: 5};\n\nconst circleDegree = 360;\nconst w = 120;\nconst h = 100;\n\nconst width = w - margin.left - margin.right,\n  height = h - margin.top - margin.bottom;\n\nconst innerRadius = 15,\n    outerRadius = Math.min(width, height) / 2 - 6;\n\nconst formatHour = d3.timeFormat(\"%I %p\")\n\nconst fullCircle = 2 * Math.PI * 23/24;\n\nconst y = scaleRadial()\n    .range([innerRadius, outerRadius]);\n\n\nclass CalendarRadial extends React.Component {\n\n componentDidUpdate(prevProps) {\n //   console.log('prevProps:', prevProps)\n\n   if (prevProps !== this.props) {\n     d3.select(this.refs[this.props.currentDay]).selectAll(\"*\").remove();\n     this.renderRadial();\n   }\n }\n\n componentDidMount() {\n   this.renderRadial()\n }\n\n clockToRad(clock, direction) {\n   var unit = circleDegree / 12;\n   var degree = direction > 0 ? unit * clock : unit * clock - circleDegree;\n   return this.degToRad(degree);\n }\n\n degToRad(degrees) {\n   return degrees * Math.PI / 180;\n }\n\n\n  renderRadial = () => {\n    const x = scaleLinear()\n\n    if (this.props.clockConfig === 'Midnight Up') {\n      x.range([0, fullCircle]);\n    }\n    else {\n      x.range([0 + Math.PI, fullCircle + Math.PI]);\n    }\n\n\n    const line = d3.lineRadial()\n  \t\t.angle(function(d) { return x(d.key); })\n  \t\t.radius(function(d) { return y(d.value); })\n      .curve(this.props.lineType)\n\n    const data = this.props.dataDayHours;\n\n    const svg = d3.select(this.refs[this.props.currentDay])\n\n    var g = svg.append(\"g\")\n    \t.attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n\n    x.domain(d3.extent(data, function(d) { return d.key; }));\n    // y.domain(d3.extent(data, function(d) { return d.value; }));\n    // if (this.props.avgAllDataChecked) {\n    // y.domain(d3.extent(minMaxScale, function(d) { return d; }));\n    // }\n    // if (this.props.avgMonthDataChecked) {\n      y.domain(d3.extent(this.props.scaleData, function(d) { return d; }));\n    // }\n    // if (this.props.avgMonthDataChecked === false && this.props.avgAllDataChecked === false) {\n    //   y.domain(d3.extent(data, function(d) { return d.value; }));\n    // }\n\n    // y.domain(d3.extent(data, function(d) { return d.value; }));\n\n    var yAxis = g.append(\"g\")\n    .attr(\"text-anchor\", \"middle\");\n\n    var yTick = yAxis\n    .selectAll(\".radial\")\n    // .selectAll(\"g\")\n    .data(y.ticks(6))\n    .enter().append(\"g\");\n\n    yTick.append(\"circle\")\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"white\")\n      .attr(\"r\", function(d) {return y(d)});\n\n\n    var numColors = 10;\n    var colorScale = d3.scaleLinear()\n      .domain([0,(numColors-1)/2,numColors-1])\n      .range([\"#F5D801\", \"#74D877\", \"#2A4858\"])\n      .interpolate(d3.interpolateHcl);\n\n    var gradient = g.append(\"defs\").append(\"radialGradient\")\n      .attr(\"id\", \"gradientRainbow\")\n      .attr(\"gradientUnits\", \"userSpaceOnUse\")\n      .attr(\"cx\", \"0%\")\n      .attr(\"cy\", \"0%\")\n      .attr(\"r\", \"45%\")\n      .selectAll(\"stop\")\n      .data(d3.range(numColors))\n      .enter().append(\"stop\")\n      .attr(\"offset\", function(d,i) { return (i/(numColors-1)*50 + 45) + \"%\"; })\n      .attr(\"stop-color\", function(d) { return colorScale(d); });\n\n    var linePlot = g.append(\"path\")\n      .datum(data)\n      .attr(\"fill\", \"url(#gradientRainbow)\")\n      .attr(\"stroke\", \"#213946\")\n      .attr(\"stroke-width\", 1)\n      .attr(\"d\", line);\n\n    var yAxisWhite = g.append(\"g\")\n      .attr(\"text-anchor\", \"middle\");\n\n    yAxisWhite.append(\"circle\")\n      .attr(\"fill\", \"white\")\n      .attr(\"stroke\", \"black\")\n      .attr(\"opacity\", 1)\n      .attr(\"r\", function() { return y(y.domain()[0])});\n\n\n      //for from to pie chart\n      const radius = 10;\n\n      dayjs.extend(advancedFormat)\n      let sunset, sunrise;\n      if (this.props.currentDay !== undefined) {\n        sunset = dayjs(getSunset(55.67594, 12.56553, new Date(this.props.currentDay))).format('k');\n        sunrise = dayjs(getSunrise(55.67594, 12.56553, new Date(this.props.currentDay))).format('k')\n        sunset = parseInt(sunset)/2\n        sunrise = parseInt(sunrise)/2\n      }\n\n      var clockGroup, offSetX, offSetY, pi;\n      pi = Math.PI;\n\n      clockGroup = yAxisWhite.append(\"g\")\n        // .attr(\"transform\", \"translate(\" + offSetX + \",\" + offSetY + \")\");\n\n      var arc = d3.arc()\n        .innerRadius(0)\n        .outerRadius(radius)\n        .startAngle(this.clockToRad(sunset, -1))\n        .endAngle(this.clockToRad(sunrise, 1));\n\n      //DAY\n      clockGroup.append(\"circle\")\n        .attr(\"r\", radius)\n        .attr(\"fill\", \"#D0D6F9\")\n        .attr(\"class\", \"clock outercircle\")\n\n      //NIGHT\n      clockGroup.append('path')\n        .attr('d', arc)\n        .style('fill', '#1A1571');\n\n\n  }\n\n  render() {\n    return(\n      <div className=\"center\">\n\n        <svg width={w} height={h} className=\"calendarSvg\"\n            ref={this.props.currentDay} id={this.props.currentDay}>\n        </svg>\n\n      </div>\n    )\n  }\n}\n\nexport default CalendarRadial;\n","import React, { Component } from 'react'\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\nimport * as d3 from \"d3\";\nimport * as d3Axis from 'd3-axis'\nimport { select as d3Select } from 'd3-selection'\nimport *  as dataParser from '../dataParser.js';\nimport CalendarRadial from '../CalendarRadial/CalendarRadial'\nimport ReactTooltip from 'react-tooltip'\nimport {scaleLinear, scaleOrdinal} from 'd3-scale';\n\nimport './calendar.scss'\nvar classNames = require('classnames');\n\n\nclass Calendar extends Component {\n\n  constructor(props) {\n    super(props);\n\n  }\n\n  componentDidMount() {\n  }\n\n  componentDidUpdate(prevProps) {\n    // if (prevProps.monthDataAvg !== this.props.monthData) {\n    //   d3.select(\".calendar-container\").selectAll(\"*\").remove();\n    //   this.render();\n    // }\n  }\n\n  chooseDay(e, day) {\n    if (e.shiftKey) {\n      this.props.setWeek(day);\n    }\n    else {\n      this.props.setDay(day);\n    }\n\n  }\n\n  backgroundColor(item) {\n\n    let occurences = []\n    Object.values(this.props.dayInsights).forEach(val => occurences.push(val.length))\n\n    const myColor = scaleLinear()\n    .range([\"white\" , \"#46a7c4\"])\n    .domain([0,d3.max(occurences)])\n\n    if (this.props.heatmapChecked === true) {\n      return myColor(dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.monthData, item)))\n    }\n    else {\n      return \"white\"\n    }\n\n  }\n\n\n  render() {\n    let scaleData = [];\n    Object.keys(this.props.monthData).map(item => {\n      for (let i=0; i < Object.keys(item).length; i++) {\n        scaleData.push(dataParser.groupByHoursArr(this.props.monthData[item])[i].value)\n      }\n    })\n\n    let firstWeekday;\n    if (this.props.monthData && !this.props.weekData) {\n      firstWeekday = dataParser.getWeekday(Object.keys(this.props.monthData)[0])\n    }\n    if (this.props.weekData) {\n      firstWeekday = dataParser.getWeekday(Object.keys(this.props.weekData)[0])\n    }\n\n    let monthOccurences = []\n\n    Object.keys(this.props.monthData).map(item => {\n      monthOccurences.push(dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.monthData, item)))\n    })\n\n\n\n\n\n    const firstDayClass = classNames({\n      'monday': firstWeekday === 1,\n      'tuesday':  firstWeekday === 2,\n      'wednesday':  firstWeekday === 3,\n      'thursday':  firstWeekday === 4,\n      'friday':  firstWeekday === 5,\n      'saturday':  firstWeekday === 6,\n      'sunday':  firstWeekday === 0\n    });\n\n    return (\n      <div className=\"calendar-container\">\n      <div className=\"day-of-week\">\n        <div className=\"day\">Mo</div>\n        <div className=\"day\">Tu</div>\n        <div className=\"day\">We</div>\n        <div className=\"day\">Th</div>\n        <div className=\"day\">Fr</div>\n        <div className=\"day\">Sa</div>\n        <div className=\"day\">Su</div>\n      </div>\n\n      <div className=\"date-grid\" id=\"random\">\n        {\n          this.props.monthData && !this.props.weekData &&\n          Object.keys(this.props.monthData).map(item =>\n          <div className={'day-wrapper' + ' ' + firstDayClass}\n            onClick={(e) => this.chooseDay(e, item)}\n            data-tip={\n              item.split(\"-\")[2] + ' of ' + dataParser.getMonthName(item) + '<br /> Occurrences: ' +\n              dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.monthData, item))\n            }\n            style={{backgroundColor: this.backgroundColor(item, monthOccurences) }}\n            // style={{backgroundColor: 'rgb(74, 125, 113)'}}\n            >\n\n            <p className=\"day-nr\">{item.split(\"-\")[2]}</p>\n            {\n              (dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.monthData, item)) !== 0) &&\n              <CalendarRadial currentDay={item}\n              dataDayHours={dataParser.getDayHoursArr(this.props.monthData, item)}\n              dayInsights={this.props.monthData}\n              lineType={this.props.lineType}\n              clockConfig={this.props.clockConfig}\n              scaleData={this.props.allDatasetData}\n              // scaleData={scaleData}\n              />\n            }\n            {\n              (dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.monthData, item)) === 0) &&\n              <div className=\"center\">\n                <img src={require('../assets/empty-light.png')} className=\"iconCalendar\" />\n              </div>\n            }\n          </div>\n        )}\n\n        {\n          this.props.weekData &&\n          Object.keys(this.props.weekData).map(item =>\n          <div className={'day-wrapper' + ' ' + firstDayClass}\n            onClick={(e) => this.chooseDay(e, item)}\n            data-tip={\n              item.split(\"-\")[2] + ' of ' + dataParser.getMonthName(item) + '<br /> Occurrences: ' +\n              dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.weekData, item))\n            }\n            style={{backgroundColor: this.backgroundColor(item, monthOccurences) }}\n            // style={{backgroundColor: 'rgb(74, 125, 113)'}}\n            >\n\n            <p className=\"day-nr\">{item.split(\"-\")[2]}</p>\n            {\n              (dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.monthData, item)) !== 0) &&\n              <CalendarRadial currentDay={item}\n              dataDayHours={dataParser.getDayHoursArr(this.props.weekData, item)}\n              dayInsights={this.props.monthData}\n              lineType={this.props.lineType}\n              clockConfig={this.props.clockConfig}\n              scaleData={this.props.allDatasetData}\n              />\n            }\n            {\n              (dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.monthData, item)) === 0) &&\n              <img src={require('../assets/empty-light.png')} className=\"iconCalendar\" />\n            }\n          </div>\n        )}\n\n      </div>\n      <ReactTooltip multiline={true} />\n    </div>\n    )\n  }\n}\n\nexport default Calendar;\n","import React, {createRef} from 'react';\nimport * as d3 from \"d3\";\nimport {scaleLinear, scaleBand, scaleTime, schemeCategory20c, scaleQuantize, scaleOrdinal } from 'd3-scale';\nimport { select as d3Select } from 'd3-selection'\nimport moment from 'moment'\nimport Calendar from './../Calendar/Calendar'\nimport { Boxplot, computeBoxplotStats } from 'react-boxplot'\n\n// import data from './../data/itching.csv';\nimport *  as dataParser from '../dataParser.js';\n\nimport './weekSummary.scss'\n\n\n\nclass WeekSummary extends React.Component {\n\n componentDidUpdate(prevProps) {\n\n }\n\n componentDidMount() {\n\n   console.log('week data', this.props.weekData)\n\n   let dataArr = [];\n   Object.keys(this.props.weekData).map(i => {\n     const dailyHours = dataParser.getDayHoursArr(this.props.weekData, i);\n     for (let j = 0; j < dailyHours.length; j++) {\n       let k = dailyHours[j].value;\n       while(k > 0) {\n         dataArr.push({\n           day: i,\n           hour: dailyHours[j].key\n         });\n         k--;\n       }\n     }\n   })\n\n   this.renderWeek(dataArr, this.props.weekData);\n }\n\n make_x_gridlines(x) {\n     return d3.axisBottom(x)\n         .ticks(7)\n }\n\n // gridlines in y axis function\n make_y_gridlines(y) {\n     return d3.axisLeft(y)\n         .ticks(12)\n }\n\n\n renderWeek(dataArr, weekData) {\n\n  const data = dataArr;\n\n\n  var margin = {top: 10, right: 30, bottom: 30, left: 20},\n  width = 980 - margin.left - margin.right,\n  height = 450 - margin.top - margin.bottom;\n\n\n\n  // append the svg object to the body of the page\n  var svg = d3.select(\"#violinPlot\")\n  .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n  .append(\"g\")\n    .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n  // Build and Show the Y scale\n  var y = d3.scaleLinear()\n    .domain([ 0, 26 ])          // Note that here the Y scale is set manually\n    .range([height, 0])\n  svg.append(\"g\").call( d3.axisLeft(y).tickValues([2,4,6,8,10,12,14,16,18,20,22,24]) )\n\n  // Build and Show the X scale. It is a band scale like for a boxplot: each group has an dedicated RANGE on the axis. This range has a length of x.bandwidth\n  var x = d3.scaleBand()\n    .range([ 0, width ])\n    .domain(Object.keys(weekData))\n    .padding(0.6)\n  svg.append(\"g\")\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\n    .call(d3.axisBottom(x))\n\n    // add the X gridlines\n   svg.append(\"g\")\n       .attr(\"class\", \"grid\")\n       .attr(\"transform\", \"translate(0,\" + height + \")\")\n       .call(this.make_x_gridlines(x)\n           .tickSize(-height)\n           .tickFormat(\"\")\n       )\n\n   // add the Y gridlines\n   svg.append(\"g\")\n       .attr(\"class\", \"grid\")\n       .call(this.make_y_gridlines(y)\n           .tickSize(-width)\n           .tickFormat(\"\")\n       )\n\n  // Features of the histogram\n  var histogram = d3.histogram()\n      .domain(y.domain())\n      .thresholds(y.ticks(24))    // Important: how many bins approx are going to be made? It is the 'resolution' of the violin plot\n      .value(d => d)\n\n  // Compute the binning for each group of the dataset\n  var sumstat = d3.nest()  // nest function allows to group the calculation per level of a factor\n    .key(function(d) { return d.day;})\n    .rollup(function(d) {   // For each key..\n      const input = d.map(function(g) { return g.hour.toString();})    // Keep the variable called Sepal_Length\n      const bins = histogram(input)   // And compute the binning on it.\n      return(bins)\n    })\n    .entries(data)\n\n  // What is the biggest number of value in a bin? We need it cause this value will have a width of 100% of the bandwidth.\n  var maxNum = 0\n  for (let i in sumstat ){\n    const allBins = sumstat[i].value\n    const lengths = allBins.map(function(a){return a.length;})\n    const longuest = d3.max(lengths)\n    if (longuest > maxNum) { maxNum = longuest }\n  }\n\n  // The maximum width of a violin must be x.bandwidth = the width dedicated to a group\n  var xNum = d3.scaleLinear()\n    .range([0, x.bandwidth()])\n    .domain([-maxNum,maxNum])\n\n  // Add the shape to this svg!\n  svg\n    .selectAll(\"myViolin\")\n    .data(sumstat)\n    .enter()        // So now we are working group per group\n    .append(\"g\")\n      .attr(\"transform\", function(d){ return(\"translate(\" + x(d.key) +\" ,0)\") } ) // Translation on the right to be at the group position\n    .append(\"path\")\n        .datum(function(d){ return(d.value)})     // So now we are working bin per bin\n        .style(\"stroke\", \"none\")\n        .style(\"fill\",\"#17c19a\")\n        .attr(\"d\", d3.area()\n            .x0(function(d){ return(xNum(-d.length)) } )\n            .x1(function(d){ return(xNum(d.length)) } )\n            .y(function(d){ return(y(d.x0)) } )\n            .curve(d3.curveCatmullRom)    // This makes the line smoother to give the violin appearance. Try d3.curveStep to see the difference\n        )\n\n }\n\n\n  render() {\n\n    return(\n      <div className=\"summaryContainer center\">\n\n        <Calendar\n          dayInsights={this.props.dayInsights}\n          monthData={this.props.monthData}\n          weekData={this.props.weekData}\n          lineType={this.props.lineType}\n          clockConfig={this.props.clockConfig}\n          setDay={currentDay => this.props.setDay(currentDay)}\n          heatmapChecked={this.props.heatmapChecked}\n          allDatasetData={this.props.allDatasetData}\n        />\n\n        <div id=\"violinPlot\"></div>\n\n      </div>\n    )\n  }\n}\n\nexport default WeekSummary;\n","import React, {createRef} from 'react';\nimport * as d3 from \"d3\";\nimport {scaleLinear, scaleBand, scaleTime, schemeCategory20c, scaleQuantize } from 'd3-scale';\nimport { select as d3Select } from 'd3-selection'\nimport moment from 'moment'\n\n// import data from './../data/itching.csv';\n// import *  as dataParser from './dataParser.js';\nimport './barChart.scss'\n\n\nvar margin = {top: 20, right: 20, bottom: 30, left: 40},\n    width = 800 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom;\n\n// set the ranges\nvar xBasic = scaleBand()\n          .range([0, width])\n          .padding(0.1);\nvar yBasic = scaleLinear()\n          .range([height, 0]);\n\n\nclass BarChart extends React.Component {\n\n componentDidUpdate(prevProps) {\n   if (prevProps !== this.props) {\n     d3.select(\"svg\").selectAll(\"*\").remove();\n     this.renderBarChart();\n     // this.renderBarChartBasic();\n   }\n }\n\n componentDidMount() {\n    this.renderBarChart();\n    // this.renderBarChartBasic();\n  }\n\n  //GRADIENT CHART\n renderBarChart() {\n\n  const data = this.props.dataDayHours;\n  const avgWeekday = this.props.avgWeekday;\n  var avgWeekdayInAMonth = this.props.avgWeekdayInAMonth;\n\n  const x = scaleBand()\n    .rangeRound([0, width])\n    .domain(data.map((d) => d.key))\n    .padding(0.1);\n\n  const y = scaleLinear()\n    .range([height, 0])\n    // .domain([\n    //   d3.min(data, function(d) { return d.value; }),\n    //   d3.max(data, function(d) { return d.value })\n    // ])\n    // .nice();\n\n  if (this.props.avgAllDataChecked) {\n    y.domain(\n      [\n        d3.min(this.props.minMaxWeekdayData, function(d) { return d; }),\n        d3.max(this.props.minMaxWeekdayData, function(d) { return d })\n      ]\n      // d3.extent(this.props.minMaxWeekdayData, function(d) { return d; })\n    );\n  }\n  if (this.props.avgMonthDataChecked) {\n    y.domain(\n      [\n        d3.min(this.props.minMaxAllData, function(d) { return d; }),\n        d3.max(this.props.minMaxAllData, function(d) { return d })\n      ]\n      // d3.extent(this.props.minMaxAllData, function(d) { return d; })\n    );\n  }\n  if (this.props.avgMonthDataChecked === false && this.props.avgAllDataChecked === false) {\n    y.domain(\n      [\n        d3.min(data, function(d) { return d.value; }),\n        d3.max(data, function(d) { return d.value })\n      ]\n    );\n    // y.domain(d3.extent(data, function(d) { return d.value; }));\n  }\n\n  const svg = d3.select(this.refs.svgElemBar);\n\n  const graphArea = svg\n  .append('g')\n  .attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n  const defs = svg.append('defs');\n\n  var numColors = 10;\n  var colorScale = d3.scaleLinear()\n    .domain([0,(numColors-1)/2,numColors-1])\n    .range(['#2A4858', \"#74D877\", \"#F5D801\"])\n    .interpolate(d3.interpolateHcl);\n\n  const bgGradient = defs.append(\"linearGradient\")\n    .attr(\"id\", \"bg-gradient\")\n    // .attr('gradientTransform', 'rotate(90)')\n    .attr(\"x1\", \"0%\")\n    .attr(\"y1\", \"0%\")\n    .attr(\"x2\", \"0%\")\n    .attr(\"y2\", \"100%\")\n    .attr(\"gradientUnits\", \"userSpaceOnUse\")\n    .selectAll(\"stop\")\n    .data(d3.range(numColors))\n    .enter().append(\"stop\")\n    .attr(\"offset\", function(d,i) { return (i/(numColors-1)*50 + 10) + \"%\"; })\n    .attr(\"stop-color\", function(d) { return colorScale(d); });\n\n  defs\n    .append('clipPath')\n    .attr('id', 'clip-bar-rects')\n    .selectAll('bar')\n    .data(data)\n    .enter()\n    .append('rect')\n    .attr(\"x\", d => x(d.key))\n    .attr(\"y\", d => y(d.value))\n    .attr(\"width\", x.bandwidth())\n    .attr(\"height\", d => height - y(d.value));\n\n  const clipPath = graphArea\n    .append('g')\n    .attr('clip-path', `url(#clip-bar-rects)`);\n\n  clipPath\n    .append('rect')\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr('width', width)\n    .attr('height', height)\n    .style('fill', 'url(#bg-gradient)');\n\n  const xAxis = d3.axisBottom(x);\n  const yAxis = d3.axisLeft(y).ticks(5);\n\n  const ax = graphArea\n    .append('g')\n    .attr('class', 'axis')\n    .attr('transform', `translate(0, ${height})`)\n    .call(xAxis);\n\n  ax.selectAll('text')\n    .style(\"text-anchor\", \"start\")\n    .style(\"alignment-baseline\", \"middle\")\n    .attr(\"transform\", `translate(-3)`)\n\n  graphArea\n    .append('g')\n    .attr('class', 'axis')\n    .call(yAxis);\n\n  if (this.props.avgAllDataChecked) {\n    svg.append(\"path\")\n      .datum(avgWeekday)\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"#2A41E5\")\n      .attr(\"stroke-width\", 2)\n      .attr(\"d\", d3.line()\n        .x(function(d) { return x(d.key) })\n        .y(function(d) { return y(d.value) })\n        .curve(d3.curveCatmullRom.alpha(0.5))\n      )\n      .attr(\"transform\", \"translate(\" + 2*x.bandwidth() + \",0)\")\n  }\n\n    if (this.props.avgMonthDataChecked) {\n      svg.append(\"path\")\n        .datum(avgWeekdayInAMonth)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#9f59ea\")\n        .attr(\"stroke-width\", 2)\n        .attr(\"d\", d3.line()\n          .x(function(d) { return x(d.key) })\n          .y(function(d) { return y(d.value) })\n          .curve(d3.curveCatmullRom.alpha(0.5))\n        )\n        .attr(\"transform\", \"translate(\" + 2*x.bandwidth() + \",0)\")\n    }\n }\n\n //BASIC CHART\n renderBarChartBasic() {\n    const data = this.props.dataDayHours;\n\n    const svg = d3.select(this.refs.svgElemBar);\n\n    var colors = [\"#F5D801\", \"#74D877\", '#2A4858'];\n\n    var colorScaleBasic = scaleQuantize()\n      .domain([0, colors.length - 1, d3.max(data, function(d) {\n        return d.value;\n      })])\n      .range(colors);\n\n\n    xBasic.domain(data.map(function(d) { return d.key; }));\n    yBasic\n    .domain([\n      d3.min(data, function(d) { return d.value; }),\n      d3.max(data, function(d) { return d.value })\n    ])\n    .nice();\n    // .domain([0, d3.max(data, function(d) { return d.value; })]);\n\n    // append the rectangles for the bar chart\n    svg.selectAll(\".bar\")\n        .data(data)\n      .enter().append(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", function(d) { return xBasic(d.key); })\n        .attr(\"width\", xBasic.bandwidth())\n        .attr(\"y\", function(d) { return yBasic(d.value); })\n        .attr(\"height\", function(d) { return height - yBasic(d.value); })\n        .attr(\"fill\", function(d) { return colorScaleBasic(d.value) });\n\n    // add the x Axis\n    svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(xBasic));\n\n    // add the y Axis\n    svg.append(\"g\")\n        .call(d3.axisLeft(yBasic));\n\n }\n\n\n  render() {\n    return(\n      <div className=\"radialContainer center\">\n\n      <svg width={800} height={400}\n          ref=\"svgElemBar\" className=\"barChartSvg\">\n      </svg>\n\n      </div>\n    )\n  }\n}\n\nexport default BarChart;\n","import React, { Component } from 'react'\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\nimport * as d3 from \"d3\";\nimport * as d3Axis from 'd3-axis'\nimport { select as d3Select } from 'd3-selection'\nimport *  as dataParser from '../dataParser.js';\nimport shift from '../assets/shift.png'\n// import Checkbox from 'react-simple-checkbox';\nimport Checkbox from 'rc-checkbox';\nimport 'rc-checkbox/assets/index.css';\n\n\nimport './menu.scss'\n\n\nclass Menu extends Component {\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      chartType: 'Radial'\n    }\n  }\n\n  componentDidMount() {\n\n  }\n\n  componentDidUpdate() {\n\n  }\n\n  onDropdownChange(e) {\n    this.props.setDate(e.value);\n  }\n\n  onMonthChange(e) {\n    this.props.setMonth(dataParser.getMonthNrFromName(e.value), e.value)\n  }\n\n  onLineChange(e) {\n    if (e.value === 'Basis') {\n      this.props.setLineType(d3.curveBasisClosed, 'Basis');\n    }\n    if (e.value === 'Linear') {\n      this.props.setLineType(d3.curveLinearClosed, 'Linear');\n    }\n    if (e.value === 'Bundle') {\n      this.props.setLineType(d3.curveBundle, 'Bundle');\n    }\n    if (e.value === 'Cardinal') {\n      this.props.setLineType(d3.curveCardinalClosed, 'Cardinal');\n    }\n    if (e.value === 'Catmull') {\n      this.props.setLineType(d3.curveCatmullRomClosed, 'Catmull');\n    }\n    if (e.value === 'Natural') {\n      this.props.setLineType(d3.curveNatural, 'Natural');\n    }\n  }\n\n  onDatasetChange(e) {\n    if (e.value === 'itching') {\n      this.props.setDataset('itching');\n    }\n    if (e.value === 'symptoms') {\n      this.props.setDataset('symptoms');\n    }\n    if (e.value === 'tinnitus') {\n      this.props.setDataset('tinnitus');\n    }\n    if (e.value === 'sugar craving') {\n      this.props.setDataset('sugar craving');\n    }\n\n  }\n\n  onClockConfigChange(e) {\n    if (e.value === 'Midnight Up') {\n      this.props.setClockConfig('Midnight Up');\n    }\n    if (e.value === 'Midnight Down') {\n      this.props.setClockConfig('Midnight Down');\n    }\n  }\n\n  onButtonClick(event) {\n    this.props.setChartType(event.target.name)\n  }\n\n  changeTimePeriod(event) {\n    this.props.setTimePeriod(event.target.name)\n  }\n\n  checkAvgAllData(event) {\n    this.props.setAllDataChecked(event.target.checked)\n  }\n\n  checkAvgMonthData(event) {\n    this.props.setMonthDataChecked(event.target.checked)\n  }\n\n  checkHeatmap(event) {\n    this.props.setHeatmapChecked(event.target.checked)\n  }\n\n  backToCalendar() {\n    this.props.setCalendarView()\n  }\n\n  render() {\n    const defaultOption = Object.keys(this.props.dayInsights)[0];\n    const lines = ['Cardinal', 'Linear', 'Basis', 'Bundle', 'Catmull', 'Natural'];\n    const clockConfig = ['Midnight Up', 'Midnight Down']\n    const firstValue = this.props.firstValue || defaultOption || this.props.firstDay;\n    const secondValue = this.props.secondValue || lines[0];\n    const configValue = this.props.configValue || clockConfig[0];\n    const datasets = ['itching', 'symptoms', 'tinnitus', 'sugar craving']\n    const datasetValue = this.props.datasetValue || datasets[0]\n\n    console.log(' dataParser.getMonths(this.props.dayInsights)',  dataParser.getMonths(this.props.dayInsights))\n    let months = dataParser.getMonths(this.props.dayInsights)\n    months = months.map(item => dataParser.getMonthNameFromMonthNr(item))\n\n    console.log('months', months)\n\n    const chosenMonth = this.props.chosenMonth || months[0]\n\n    console.log('FV', this.props.firstValue)\n\n    const totalInMonthArr = []\n    const totalInYearArr = []\n    const totalInWeekArr = []\n    let totalInMonth = 0\n    let totalInYear = 0\n    let totalInWeek = 0\n\n    Object.keys(this.props.monthData).map(item => {\n      totalInMonthArr.push(dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.monthData, item)))\n    })\n\n    if (this.props.weekData) {\n      Object.keys(this.props.weekData).map(item => {\n        totalInWeekArr.push(dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.weekData, item)))\n      })\n      totalInWeekArr.forEach(elem => {\n        totalInWeek = totalInWeek + elem\n      })\n    }\n\n    totalInMonthArr.forEach(elem => {\n      totalInMonth = totalInMonth + elem\n    })\n\n    Object.keys(this.props.dayInsights).map(item => {\n      totalInYearArr.push(dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.dayInsights, item)))\n    })\n\n    totalInYearArr.forEach(elem => {\n      totalInYear = totalInYear + elem\n    })\n\n\n    return (\n      <div className=\"menu\">\n        {/* <h1>{this.props.timePeriod} insights</h1> */}\n        {\n          this.props.chartType === 'Calendar' &&\n          <h1>{this.props.chosenMonth ? dataParser.getMonthNameFromMonthNr(dataParser.getMonthPlusOne(this.props.firstValue)) : months[0]} insights</h1>\n\n        }\n        {\n          this.props.timePeriod === 'Weekly' &&\n          <h1>Week {this.props.currentWeekNr}, {dataParser.getMonthNameForWeek(this.props.firstValue)}</h1>\n        }\n        {\n          this.props.chartType === 'Calendar' &&\n          <div className=\"longText\">In {this.props.chosenMonth ? dataParser.getMonthNameFromMonthNr(dataParser.getMonthPlusOne(this.props.firstValue)) : months[0]} you had <span className=\"highlighted\">{totalInMonth}</span> symptoms.\n          This means that approximately <span className=\"highlighted\">{Math.round((totalInMonth/totalInYear)*100).toFixed(0)}% </span>of your yearly symptoms appeared in this period of time.\n          </div>\n        }\n\n        {\n          (this.props.chartType === 'WeekAvgRadial' || this.props.chartType === 'WeekSummary') &&\n          <div className=\"btnsHolder\">\n            <p>Graph type</p>\n            <button className={ (this.props.chartType === 'WeekSummary') ? 'btn btn-active': 'btn-normal btn' }\n              onClick={(e) => this.onButtonClick(e)}\n              name=\"WeekSummary\">Summary</button>\n            <button className={ (this.props.chartType === 'WeekAvgRadial') ? 'btn btn-active': 'btn btn-normal' }\n              onClick={(e) => this.onButtonClick(e)}\n              name=\"WeekAvgRadial\">Avg Weekdays</button>\n          </div>\n        }\n\n        {\n          (this.props.timePeriod === 'Weekly' && this.props.chartType === 'WeekSummary') &&\n          <div className=\"longText\">In week {this.props.currentWeekNr} you had <span className=\"highlighted\">{totalInWeek}</span> symptoms.\n          This means that approximately <span className=\"highlighted\">{Math.round((totalInWeek/totalInMonth)*100).toFixed(0)}%</span> of {dataParser.getMonthNameForWeek(this.props.firstValue)} symptoms appeared in this period of time.\n          This week stands for approx. <span className=\"highlighted\">{Math.round((totalInWeek/totalInYear)*100).toFixed(0)}%</span> of all symptoms.\n          </div>\n        }\n        {\n          (this.props.chartType === 'Radial' || this.props.chartType === 'BarChart') &&\n          <div className=\"header\">\n            <h1 className=\"dayHeader\">{dataParser.getWeekdayName(this.props.firstValue)} </h1>\n            <h4>{this.props.firstValue.split(\"-\")[2] + ' of ' + dataParser.getMonthName(this.props.firstValue)}</h4>\n          </div>\n        }\n        {\n          (this.props.chartType === 'Radial' || this.props.chartType === 'BarChart') &&\n          <div className=\"longText\">On {this.props.firstValue.split(\"-\")[2] + ' of ' + dataParser.getMonthName(this.props.firstValue)} you had <span className=\"highlighted\">{dataParser.getTotalInDay(dataParser.getDayHoursArr(this.props.monthData, this.props.firstValue))}</span> symptoms.\n          </div>\n        }\n        {\n          (this.props.chartType === 'Radial' || this.props.chartType === 'BarChart') &&\n          <div>\n          <div className=\"btnsHolder\">\n            <p>Graph type</p>\n            <button className={ (this.props.chartType === 'Radial') ? 'btn btn-active': 'btn-normal btn' }\n              onClick={(e) => this.onButtonClick(e)}\n              name=\"Radial\">Radial</button>\n            <button className={ (this.props.chartType === 'BarChart') ? 'btn btn-active': 'btn btn-normal' }\n              onClick={(e) => this.onButtonClick(e)}\n              name=\"BarChart\">Bar chart</button>\n          </div>\n        </div>\n        }\n\n        {\n          (this.props.chartType === 'Radial' || this.props.chartType === 'BarChart' && this.props.timePeriod === 'Daily') &&\n          <div>\n          <p>Day</p>\n          <Dropdown options={Object.keys(this.props.dayInsights)} onChange={(e) => this.onDropdownChange(e)} value={firstValue} placeholder=\"Select an option\" />\n          </div>\n        }\n        {\n          (this.props.chartType === 'Calendar') &&\n          <div>\n          <p>Month</p>\n          <Dropdown options={months} onChange={(e) => this.onMonthChange(e)} value={chosenMonth} placeholder=\"Select an option\" />\n          </div>\n        }\n        {\n          (this.props.chartType === 'Radial') &&\n          <div>\n          <p>Line type</p>\n          <Dropdown options={lines} onChange={(e) => this.onLineChange(e)} value={secondValue} placeholder=\"Select an option\" />\n          <p>Clock configuration</p>\n          <Dropdown options={clockConfig} onChange={(e) => this.onClockConfigChange(e)} value={configValue} placeholder=\"Select an option\" />\n          </div>\n        }\n        {\n        (this.props.chartType === 'Radial' || this.props.chartType === 'BarChart') && (\n        <div className=\"checkboxContainer\">\n\n          <div class=\"checkbox\">\n          <label>\n          <Checkbox type=\"checkbox\" value='allDataAvg' checked={this.props.avgAllDataChecked} onChange={(e) => this.checkAvgAllData(e)} />\n          &nbsp; Avg {dataParser.getWeekdayName(this.props.firstValue)} in all months <span class=\"dot allMonthsDot\"></span>\n          </label>\n          </div>\n          <br />\n          <label>\n          <Checkbox type=\"checkbox\" value='monthDataAvg' checked={this.props.avgMonthDataChecked} onChange={(e) => this.checkAvgMonthData(e)} />\n          &nbsp; Avg {dataParser.getWeekdayName(this.props.firstValue)} in {dataParser.getMonthName(this.props.firstValue)} <span class=\"dot thisMonthDot\"></span>\n          </label>\n        </div>\n      )}\n      <br /><br />\n      {\n        (this.props.chartType === 'Calendar' || this.props.chartType === 'WeekSummary' )&&\n        <label className=\"checkbox-label\">\n        <Checkbox onChange={(e) => this.checkAvgAllData(e)} checked={this.props.heatmapChecked} onChange={(e) => this.checkHeatmap(e)}/>\n          &nbsp;  Show heatmap\n        </label>\n      }\n\n      {\n        ((this.props.chartType === 'Calendar' || this.props.chartType === 'WeekSummary' ) && this.props.heatmapChecked === true)&&\n        <div>\n        <div className=\"legend\"></div>\n        <div className=\"legendTxt\">\n          <span className='alignleft'>0</span>\n          <span className='alignright'>{d3.max(this.props.occurences) }</span>\n        </div>\n        <div style={{clear: 'both'}}></div>\n      </div>\n      }\n      {\n        this.props.chartType === 'Calendar' &&\n        <div className=\"instructionsContainer\">\n          <div className=\"instructions\">\n            <div className=\"iconsRow\">\n              <img src={require(\"./../assets/tap.png\")} alt=\"shift\" className=\"icon\"/>\n            </div>\n            <div className=\"instructionsText\">Click on a day to see daily overview</div>\n          </div>\n          <div className=\"instructions\">\n            <div className=\"iconsRow\">\n              <img src={require(\"./../assets/tap.png\")} alt=\"shift\" className=\"icon\" />\n              <div className=\"iconBetween\">+</div>\n              <img src={require(\"./../assets/shift.png\")} alt=\"shift\" className=\"iconHeight\" />\n            </div>\n            <div className=\"instructionsText\">Click + shift key to display weekly overview</div>\n          </div>\n        </div>\n      }\n      {\n        (this.props.timePeriod === 'Weekly' && this.props.chartType === 'WeekAvgRadial') &&\n        <div>\n        <span className=\"dot weekdaysDot\"></span> Weekdays\n        <br /><br />\n        <span className=\"dot weekendDot\"></span> Weekend\n        </div>\n      }\n\n      {\n        (this.props.chartType === 'Radial') &&\n        // <img src={(require('../assets/legend.png'))} className=\"legendImg\"/>\n        <div className=\"gradientLegend\"></div>\n      }\n\n      {/* {\n        this.props.timePeriod === 'Weekly' &&\n        <button onClick={this.backToCalendar()}>back to calendar view</button>\n      } */}\n\n      <div id=\"theBar\"></div>\n\n      </div>\n\n\n    )\n  }\n}\n\nexport default Menu;\n","import React from 'react';\n// import logo from './logo.svg';\nimport Scatter from './Scatter/Scatter'\nimport ScatterMY from './ScatterMY/ScatterMY'\nimport RadialLineChart from './RadialLineChart/RadialLineChart'\nimport WeeklyRadial from './WeeklyRadial/WeeklyRadial'\nimport WeekSummary from './WeekSummary/WeekSummary'\n// import RadialLineChartLib from './RadialLineChart/RadialLineChartLib'\nimport BarChart from './BarChart/BarChart'\nimport Menu from './Menu/Menu'\nimport Calendar from './Calendar/Calendar'\nimport * as d3 from \"d3\";\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport dataItching from './data/itching.csv';\nimport dataSymptoms from './data/symptoms.csv';\nimport dataTinnitus from './data/data-tinnitus.csv';\nimport dataSugar from './data/data-sugar_craving.csv';\n\nimport *  as dataParser from './dataParser';\nimport './App.scss';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      // currentDay: '2017-03-04',\n      lineType: d3.curveCardinalClosed,\n      chartType: 'Calendar',\n      timePeriod: 'Month',\n      clockConfig: 'Midnight Up',\n      avgWeekday: null,\n      avgMonday: null,\n      allAvgValues: null,\n      avgMonthDataChecked: true,\n      avgAllDataChecked: true,\n      heatmapChecked: false,\n      dataset: 'itching'\n      // monthData: null\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    // if (prevProps !== this.props) {\n    //\n    // }\n  }\n\n  componentDidMount() {\n\n    // const data = this.state.dataset or \"\"\n\n    let data;\n    if (this.state.dataset === 'itching') {\n      data = dataItching\n    }\n    if (this.state.dataset === 'symptoms') {\n      data = dataSymptoms\n    }\n    if (this.state.dataset === 'tinnitus') {\n      data = dataTinnitus\n    }\n    if (this.state.dataset === 'sugar craving') {\n      data = dataSugar\n    }\n\n    d3.csv(data).then(data => {\n\n      const dayInsights = dataParser.getDayInsights(data)\n\n      const firstDay = Object.keys(dayInsights)[0]\n      const currentDay = firstDay;\n\n      const currentMonth = dataParser.getMonth(currentDay)\n      const currentYear = Object.keys(dayInsights)[0].split('-')[0]\n\n      const monthData = dataParser.getMonthInsights(dayInsights, currentMonth, currentYear)\n\n\n      const weekdayNr = dataParser.getWeekday(currentDay)\n\n      const dataDayHours = dataParser.getDayHoursArr(dayInsights, currentDay);\n      const allExistingWeekdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, weekdayNr)).length\n\n      const avgWeekday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, weekdayNr)), allExistingWeekdays)\n\n      console.log('dataDayHours', dataDayHours)\n      console.log('monthData', monthData)\n\n      let occurences = []\n      Object.values(dayInsights).forEach(val => occurences.push(val.length))\n\n      const allExistingMondays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 1))\n      const allExistingTuesdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 2))\n      const allExistingWednesdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 3))\n      const allExistingThursdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 4))\n      const allExistingFridays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 5))\n      const allExistingSaturdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 6))\n      const allExistingSundays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 0))\n\n      const avgMonday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 1)), allExistingMondays.length)\n      const avgTuesday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 2)), allExistingTuesdays.length)\n      const avgWednesday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 3)), allExistingWednesdays.length)\n      const avgThursday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 4)), allExistingThursdays.length)\n      const avgFriday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 5)), allExistingFridays.length)\n      const avgSaturday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 6)), allExistingSaturdays.length)\n      const avgSunday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 0)), allExistingSundays.length)\n\n      // let allOfThisWeekdayInAMonth;\n\n      const allOfThisWeekdayInAMonth = dataParser.filteredByMonth(Object.keys(dataParser.getFilteredbyWeekday(dayInsights, weekdayNr)), currentMonth);\n\n      const avgWeekdayInAMonth = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsightsFilteredByMonth(dayInsights, weekdayNr, currentMonth)), allOfThisWeekdayInAMonth.length)\n\n      let allAvgValues = []\n      avgMonday.map(item => allAvgValues.push(item.value))\n      avgTuesday.map(item => allAvgValues.push(item.value))\n      avgWednesday.map(item => allAvgValues.push(item.value))\n      avgThursday.map(item => allAvgValues.push(item.value))\n      avgFriday.map(item => allAvgValues.push(item.value))\n      avgSaturday.map(item => allAvgValues.push(item.value))\n      avgSunday.map(item => allAvgValues.push(item.value))\n\n      let allDatasetData = []\n      Object.keys(dayInsights).map(item => {\n        for (let i=0; i < Object.keys(item).length; i++) {\n          if (allDatasetData.indexOf(item) === -1) {\n            allDatasetData.push(dataParser.groupByHoursArr(dayInsights[item])[i].value)\n          }\n        }\n      })\n\n      console.log(allDatasetData)\n\n      let minMaxAllData = []\n      avgWeekday.map(item => minMaxAllData.push(item.value))\n      dataDayHours.map(item => minMaxAllData.push(item.value))\n      avgWeekdayInAMonth.map(item => minMaxAllData.push(item.value))\n\n      let minMaxWeekdayData = []\n      avgWeekday.map(item => minMaxWeekdayData.push(item.value))\n      dataDayHours.map(item => minMaxWeekdayData.push(item.value))\n\n      this.setState({\n        currentDay,\n        firstDay,\n        data,\n        dataDayHours,\n        dayInsights,\n        avgWeekday,\n        avgMonday,\n        avgTuesday,\n        avgWednesday,\n        avgThursday,\n        avgFriday,\n        avgSaturday,\n        avgSunday,\n        allAvgValues,\n        avgWeekdayInAMonth,\n        minMaxAllData,\n        minMaxWeekdayData,\n        monthData,\n        allDatasetData,\n        occurences\n        // mean\n      });\n   });\n  }\n\n  setMonth(month, chosenMonth) {\n\n\n    console.log('set month function', month, chosenMonth)\n\n    const dayInsights = dataParser.getDayInsights(this.state.data)\n\n    const currentMonth = month\n    const currentYear = Object.keys(dayInsights)[0].split('-')[0]\n    const currentDay = currentYear + '-' + currentMonth + '-01'\n\n    const monthData = dataParser.getMonthInsights(dayInsights, currentMonth, currentYear)\n\n    let allDatasetData = []\n    // Object.keys(dayInsights).map(key => {\n    //   Object.values(dataParser.getDayHoursArr(dayInsights, key)).map(val => {\n    //     allDatasetData.push(val)\n    //   })\n    // })\n\n    Object.keys(dayInsights).map(item => {\n      for (let i=0; i < Object.keys(item).length; i++) {\n        if (allDatasetData.indexOf(item) === -1) {\n          allDatasetData.push(dataParser.groupByHoursArr(dayInsights[item])[i].value)\n        }\n      }\n    })\n\n    //log\n    let allDatasetDataLog = []\n    allDatasetData.map(i => allDatasetDataLog.push(Math.log(i)))\n\n    this.setState(prevState => ({\n      chosenMonth,\n      currentDay,\n      monthData,\n      allDatasetData\n    }))\n  }\n\n  // console.log('log', allDatasetDataLog)\n\n  setDate(date) {\n    const currentDay = date;\n    const currentMonth = dataParser.getMonth(currentDay)\n    const dataDayHours = dataParser.getDayHoursArr(dataParser.getDayInsights(this.state.data), date);\n    const dayInsights = dataParser.getDayInsights(this.state.data)\n    const currentYear = Object.keys(dayInsights)[0].split('-')[0]\n\n\n    const weekdayNr = dataParser.getWeekday(date)\n    const allExistingWeekdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, weekdayNr)).length\n    const avgWeekday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, weekdayNr)), allExistingWeekdays)\n\n    const monthData = dataParser.getMonthInsights(dayInsights, currentMonth, currentYear)\n\n    const allExistingMondays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 1))\n    const allExistingTuesdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 2))\n    const allExistingWednesdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 3))\n    const allExistingThursdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 4))\n    const allExistingFridays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 5))\n    const allExistingSaturdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 6))\n    const allExistingSundays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 0))\n\n    const avgMonday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 1)), allExistingMondays.length)\n    const avgTuesday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 2)), allExistingTuesdays.length)\n    const avgWednesday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 3)), allExistingWednesdays.length)\n    const avgThursday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 4)), allExistingThursdays.length)\n    const avgFriday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 5)), allExistingFridays.length)\n    const avgSaturday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 6)), allExistingSaturdays.length)\n    const avgSunday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 0)), allExistingSundays.length)\n\n    const allOfThisWeekdayInAMonth = dataParser.filteredByMonth(Object.keys(dataParser.getFilteredbyWeekday(dayInsights, weekdayNr)), currentMonth);\n\n    const avgWeekdayInAMonth = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsightsFilteredByMonth(dayInsights, weekdayNr, currentMonth)), allOfThisWeekdayInAMonth.length)\n\n    //All values from avg data pushed to one array\n    let allAvgValues = []\n    avgMonday.map(item => allAvgValues.push(item.value))\n    avgTuesday.map(item => allAvgValues.push(item.value))\n    avgWednesday.map(item => allAvgValues.push(item.value))\n    avgThursday.map(item => allAvgValues.push(item.value))\n    avgFriday.map(item => allAvgValues.push(item.value))\n    avgSaturday.map(item => allAvgValues.push(item.value))\n    avgSunday.map(item => allAvgValues.push(item.value))\n\n    //avgAllDataChecked\n    //Array of all values from a given weekday taken from current day and avgWeekday values and avgForAMonth\n    let minMaxAllData = []\n    avgWeekday.map(item => minMaxAllData.push(item.value))\n    dataDayHours.map(item => minMaxAllData.push(item.value))\n    avgWeekdayInAMonth.map(item => minMaxAllData.push(item.value))\n\n    //avgMonthDataChecked\n    let minMaxWeekdayData = []\n    avgWeekday.map(item => minMaxWeekdayData.push(item.value))\n    dataDayHours.map(item => minMaxWeekdayData.push(item.value))\n\n    this.setState(prevState => ({\n      ...prevState.lineType,\n      ...prevState.lineTypeStr,\n      ...prevState.clockConfig,\n      currentDay,\n      dataDayHours,\n      avgWeekday,\n      avgMonday,\n      avgTuesday,\n      avgWednesday,\n      avgThursday,\n      avgFriday,\n      avgSaturday,\n      avgSunday,\n      allAvgValues,\n      avgWeekdayInAMonth,\n      minMaxAllData,\n      minMaxWeekdayData,\n      monthData\n  }));\n  }\n\n  setLineType(lineType, lineTypeStr) {\n    this.setState(prevState => ({\n      ...prevState.clockConfig,\n      lineType,\n      lineTypeStr\n    }));\n  }\n\n  // setCalendarView() {\n  //   this.setState({\n  //     chartType: 'Calendar',\n  //     timePeriod: 'Month'\n  //   })\n  // }\n\n  setDataset(dataset) {\n\n    let data;\n    if (this.state.dataset === 'itching') {\n      data = dataItching\n    }\n    if (this.state.dataset === 'symptoms') {\n      data = dataSymptoms\n    }\n    if (this.state.dataset === 'tinnitus') {\n      data = dataTinnitus\n    }\n    if (this.state.dataset === 'sugar craving') {\n      data = dataSugar\n    }\n\n    d3.csv(data).then(data => {\n      const dayInsights = dataParser.getDayInsights(data)\n      const firstDay = Object.keys(dayInsights)[0]\n      const currentDay = firstDay;\n      const currentYear = Object.keys(dayInsights)[0].split('-')[0]\n\n      const currentMonth = dataParser.getMonth(currentDay)\n      const dataDayHours = dataParser.getDayHoursArr(dataParser.getDayInsights(data), currentDay);\n\n      const weekdayNr = dataParser.getWeekday(currentDay)\n      const allExistingWeekdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, weekdayNr)).length\n      const avgWeekday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, weekdayNr)), allExistingWeekdays)\n      const monthData = dataParser.getMonthInsights(dayInsights, currentMonth, currentYear)\n\n      const allExistingMondays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 1))\n      const allExistingTuesdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 2))\n      const allExistingWednesdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 3))\n      const allExistingThursdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 4))\n      const allExistingFridays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 5))\n      const allExistingSaturdays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 6))\n      const allExistingSundays = Object.keys(dataParser.getFilteredbyWeekday(dayInsights, 0))\n\n      const avgMonday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 1)), allExistingMondays.length)\n      const avgTuesday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 2)), allExistingTuesdays.length)\n      const avgWednesday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 3)), allExistingWednesdays.length)\n      const avgThursday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 4)), allExistingThursdays.length)\n      const avgFriday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 5)), allExistingFridays.length)\n      const avgSaturday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 6)), allExistingSaturdays.length)\n      const avgSunday = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsights(dayInsights, 0)), allExistingSundays.length)\n\n      let allOfThisWeekdayInAMonth;\n\n      if (weekdayNr == 1) {\n        allOfThisWeekdayInAMonth = dataParser.filteredByMonth(allExistingMondays, currentMonth)\n      }\n      if (weekdayNr == 2) {\n        allOfThisWeekdayInAMonth = dataParser.filteredByMonth(allExistingTuesdays, currentMonth)\n      }\n      if (weekdayNr == 3) {\n        allOfThisWeekdayInAMonth = dataParser.filteredByMonth(allExistingWednesdays, currentMonth)\n      }\n      if (weekdayNr == 4) {\n        allOfThisWeekdayInAMonth = dataParser.filteredByMonth(allExistingThursdays, currentMonth)\n      }\n      if (weekdayNr == 5) {\n        allOfThisWeekdayInAMonth = dataParser.filteredByMonth(allExistingFridays, currentMonth)\n      }\n      if (weekdayNr == 6) {\n        allOfThisWeekdayInAMonth = dataParser.filteredByMonth(allExistingSaturdays, currentMonth)\n      }\n      if (weekdayNr == 0) {\n        allOfThisWeekdayInAMonth = dataParser.filteredByMonth(allExistingSundays, currentMonth)\n      }\n\n      const avgWeekdayInAMonth = dataParser.avgWeekdayHours(dataParser.groupByHoursArr(dataParser.getWeekdayInsightsFilteredByMonth(dayInsights, weekdayNr, currentMonth)), allOfThisWeekdayInAMonth.length)\n\n      //All values from avg data pushed to one array\n      let allAvgValues = []\n      avgMonday.map(item => allAvgValues.push(item.value))\n      avgTuesday.map(item => allAvgValues.push(item.value))\n      avgWednesday.map(item => allAvgValues.push(item.value))\n      avgThursday.map(item => allAvgValues.push(item.value))\n      avgFriday.map(item => allAvgValues.push(item.value))\n      avgSaturday.map(item => allAvgValues.push(item.value))\n      avgSunday.map(item => allAvgValues.push(item.value))\n\n      //Array of all values from a given weekday taken from current day and avgWeekday values and avgForAMonth\n      let minMaxAllData = []\n      avgWeekday.map(item => minMaxAllData.push(item.value))\n      dataDayHours.map(item => minMaxAllData.push(item.value))\n      avgWeekdayInAMonth.map(item => minMaxAllData.push(item.value))\n\n      let minMaxWeekdayData = []\n      avgWeekday.map(item => minMaxWeekdayData.push(item.value))\n      dataDayHours.map(item => minMaxWeekdayData.push(item.value))\n\n      let allDatasetData = []\n      Object.keys(dayInsights).map(item => {\n        for (let i=0; i < Object.keys(item).length; i++) {\n          if (allDatasetData.indexOf(item) === -1) {\n            allDatasetData.push(dataParser.groupByHoursArr(dayInsights[item])[i].value)\n          }\n        }\n      })\n\n      this.setState(prevState => ({\n        ...prevState.lineType,\n        ...prevState.lineTypeStr,\n        ...prevState.clockConfig,\n        ...prevState.timePeriod,\n        dayInsights,\n        avgWeekday,\n        avgMonday,\n        avgTuesday,\n        avgWednesday,\n        avgThursday,\n        avgFriday,\n        avgSaturday,\n        avgSunday,\n        avgWeekdayInAMonth,\n        minMaxAllData,\n        minMaxWeekdayData,\n        dataDayHours,\n        currentDay,\n        allAvgValues,\n        dataset,\n        allDatasetData,\n        monthData,\n        firstDay\n      }))\n\n      // console.log('currentMonth', dataParser.getMonthName(currentMonth));\n\n      const monthStr = currentMonth < 10 ? `0${currentMonth + 1}` : currentMonth;\n\n      this.setMonth(currentMonth, dataParser.getMonthNameFromMonthNr(currentMonth))\n    })\n\n\n  }\n\n  setClockConfig(clockConfig) {\n    this.setState({\n      clockConfig\n    })\n  }\n\n  setChartType(chartType) {\n    this.setState(prevState => ({\n      ...prevState.lineType,\n      ...prevState.lineTypeStr,\n      ...prevState.currentDay,\n      ...prevState.dataDayHours,\n      ...prevState.clockConfig,\n      ...prevState.avgWeekday,\n      ...prevState.avgMonday,\n      ...prevState.avgWeekdayInAMonth,\n      ...prevState.minMaxAllData,\n      ...prevState.minMaxWeekdayData,\n      chartType\n    }))\n  }\n\n  setTimePeriod(timePeriod) {\n    this.setState(prevState => ({\n      ...prevState.lineType,\n      ...prevState.lineTypeStr,\n      ...prevState.currentDay,\n      ...prevState.dataDayHours,\n      ...prevState.clockConfig,\n      ...prevState.avgWeekday,\n      ...prevState.avgMonday,\n      ...prevState.avgWeekdayInAMonth,\n      ...prevState.minMaxAllData,\n      ...prevState.minMaxWeekdayData,\n      timePeriod\n    }))\n  }\n\n  setAllDataChecked(avgAllDataChecked) {\n      this.setState({\n        avgAllDataChecked\n      })\n  }\n\n  setHeatmapChecked(heatmapChecked) {\n    this.setState({\n      heatmapChecked\n    })\n  }\n\n  setMonthDataChecked(avgMonthDataChecked) {\n    this.setState(prevState => ({\n      ...prevState.lineType,\n      ...prevState.lineTypeStr,\n      ...prevState.currentDay,\n      ...prevState.dataDayHours,\n      ...prevState.clockConfig,\n      ...prevState.avgWeekday,\n      ...prevState.avgMonday,\n      ...prevState.avgWeekdayInAMonth,\n      ...prevState.minMaxAllData,\n      ...prevState.minMaxWeekdayData,\n      ...prevState.timePeriod,\n      avgMonthDataChecked\n    }))\n  }\n\n  setDay(currentDay) {\n    this.setState({\n      chartType: 'Radial',\n      timePeriod: 'Daily'\n    })\n    this.setDate(currentDay)\n  }\n\n  setWeek(currentDay) {\n\n    const dayInsights = dataParser.getDayInsights(this.state.data)\n    const currentMonth = dataParser.getMonth(currentDay)\n    const currentYear = Object.keys(dayInsights)[0].split('-')[0]\n    const monthData = dataParser.getMonthInsights(dayInsights, currentMonth, currentYear)\n\n    console.log('monthData', monthData)\n\n    const currentWeekNr = dataParser.getWeekNr(currentDay)\n\n    const weekData = dataParser.getWeekInsights(currentDay, monthData)\n\n    console.log('weekData', weekData)\n\n    this.setState({\n      monthData,\n      weekData,\n      chartType: 'WeekSummary',\n      timePeriod: 'Weekly',\n      currentWeekNr\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        {\n          this.state.dayInsights &&\n          <Menu\n            dayInsights={this.state.dayInsights}\n            setDate={date => this.setDate(date)}\n            setLineType={(lineType, lineTypeStr) => this.setLineType(lineType, lineTypeStr)}\n            setClockConfig = {(clockConfig) => this.setClockConfig(clockConfig)}\n            setDataset={(dataset) => this.setDataset(dataset)}\n            datasetValue={this.state.dataset}\n            configValue = {this.state.clockConfig}\n            firstValue={this.state.currentDay}\n            secondValue={this.state.lineTypeStr}\n            chartType={this.state.chartType}\n            setChartType={chartType => this.setChartType(chartType)}\n            timePeriod={this.state.timePeriod}\n            setTimePeriod={timePeriod => this.setTimePeriod(timePeriod)}\n            avgAllDataChecked={this.state.avgAllDataChecked}\n            avgMonthDataChecked={this.state.avgMonthDataChecked}\n            setAllDataChecked={avgAllDataChecked => this.setAllDataChecked(avgAllDataChecked)}\n            setHeatmapChecked={heatmapChecked => this.setHeatmapChecked(heatmapChecked)}\n            heatmapChecked={this.state.heatmapChecked}\n            setMonthDataChecked={avgMonthDataChecked => this.setMonthDataChecked(avgMonthDataChecked)}\n            setMonth={(month, chosenMonth) => {this.setMonth(month, chosenMonth)}}\n            chosenMonth={this.state.chosenMonth}\n            occurences={this.state.occurences}\n            currentWeekNr={this.state.currentWeekNr}\n            monthData={this.state.monthData}\n            weekData={this.state.weekData}\n          />\n      }\n\n\n       {\n       this.state.dataDayHours && this.state.chartType === 'Radial' && this.state.timePeriod === 'Daily' &&\n      <div className=\"chartContainer\">\n       <RadialLineChart currentDay={this.state.currentDay}\n         dataDayHours={this.state.dataDayHours}\n         dayInsights={this.state.dayInsights}\n         lineType={this.state.lineType}\n         clockConfig={this.state.clockConfig}\n         avgWeekday={this.state.avgWeekday}\n         avgWeekdayInAMonth={this.state.avgWeekdayInAMonth}\n         minMaxAllData={this.state.minMaxAllData}\n         minMaxWeekdayData={this.state.minMaxWeekdayData}\n         avgAllDataChecked={this.state.avgAllDataChecked}\n         avgMonthDataChecked={this.state.avgMonthDataChecked}\n         // mean={this.state.mean}\n       />\n     </div>\n       }\n       {\n         this.state.dataDayHours && this.state.timePeriod === 'Weekly' && this.state.chartType === 'WeekAvgRadial' &&\n         <div className=\"chartContainer\">\n         <WeeklyRadial currentDay={this.state.currentDay}\n           dataDayHours={this.state.dataDayHours}\n           dayInsights={this.state.dayInsights}\n           lineType={this.state.lineType}\n           clockConfig={this.state.clockConfig}\n           avgWeekday={this.state.avgWeekday}\n           avgMonday={this.state.avgMonday}\n           avgTuesday={this.state.avgTuesday}\n           avgWednesday={this.state.avgWednesday}\n           avgThursday={this.state.avgThursday}\n           avgFriday={this.state.avgFriday}\n           avgSaturday={this.state.avgSaturday}\n           avgSunday={this.state.avgSunday}\n           allAvgValues={this.state.allAvgValues}\n           // mean={this.state.mean}\n         />\n         </div>\n       }\n\n       {\n         this.state.dataDayHours && this.state.timePeriod === 'Weekly' && this.state.chartType === 'WeekSummary' &&\n         <div className=\"chartContainer\">\n         <WeekSummary\n           monthData={this.state.monthData}\n           weekData={this.state.weekData}\n           lineType={this.state.lineType}\n           clockConfig={this.state.clockConfig}\n           setDay={currentDay => this.setDay(currentDay)}\n           heatmapChecked={this.state.heatmapChecked}\n           allDatasetData={this.state.allDatasetData}\n           dayInsights={this.state.dayInsights}\n           // currentDay={this.state.currentDay}\n           // dataDayHours={this.state.dataDayHours}\n           // dayInsights={this.state.dayInsights}\n           // lineType={this.state.lineType}\n           // clockConfig={this.state.clockConfig}\n           // avgWeekday={this.state.avgWeekday}\n           // avgMonday={this.state.avgMonday}\n           // avgTuesday={this.state.avgTuesday}\n           // avgWednesday={this.state.avgWednesday}\n           // avgThursday={this.state.avgThursday}\n           // avgFriday={this.state.avgFriday}\n           // avgSaturday={this.state.avgSaturday}\n           // avgSunday={this.state.avgSunday}\n           // allAvgValues={this.state.allAvgValues}\n           // mean={this.state.mean}\n         />\n         </div>\n       }\n\n       {\n         this.state.dataDayHours && this.state.chartType === 'BarChart' && this.state.timePeriod === 'Daily' &&\n         <div className=\"chartContainer\">\n         <BarChart currentDay={this.state.currentDay}\n           dataDayHours={this.state.dataDayHours}\n           dayInsights={this.state.dayInsights}\n           lineType={this.state.lineType}\n           avgWeekday={this.state.avgWeekday}\n           avgWeekdayInAMonth={this.state.avgWeekdayInAMonth}\n           minMaxAllData={this.state.minMaxAllData}\n           minMaxWeekdayData={this.state.minMaxWeekdayData}\n           avgAllDataChecked={this.state.avgAllDataChecked}\n           avgMonthDataChecked={this.state.avgMonthDataChecked}\n         />\n       </div>\n       }\n\n\n\n         {\n          this.state.monthData && this.state.currentDay && this.state.chartType === 'Calendar' &&\n          <div className=\"calendarContainer\">\n          <Calendar\n            dayInsights={this.state.dayInsights}\n            monthData={this.state.monthData}\n            lineType={this.state.lineType}\n            clockConfig={this.state.clockConfig}\n            setDay={currentDay => this.setDay(currentDay)}\n            setWeek={currentDay => this.setWeek(currentDay)}\n            heatmapChecked={this.state.heatmapChecked}\n            allDatasetData={this.state.allDatasetData}/>\n          </div>\n        }\n\n        </div>\n\n    );\n  }\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/itching.ad9f77ba.csv\";","module.exports = __webpack_public_path__ + \"static/media/symptoms.035a1ea2.csv\";","module.exports = __webpack_public_path__ + \"static/media/data-tinnitus.55042134.csv\";","module.exports = __webpack_public_path__ + \"static/media/data-sugar_craving.16655edb.csv\";","module.exports = __webpack_public_path__ + \"static/media/empty-light.692dad41.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAkCAYAAADl9UilAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAHnSURBVFgJ7VjLSgMxFG3FlQ/ciVpQXBQXLtyLfzB+gp/h4wPqt/gJrqwuqmDRtQtBRAQRBBdtF7qK52RuYBpnMpNQUsG5cObmJvdxetNOQxoNEaXUPtAFRkBsGaIgayeGj9aYOI3NxFGvY0ixU5Qv4BBYHWMdwWBN4AggB0rSwONSD0EqAgdnCfA4Fi5dEuP+UlacUREWyUEzUWrQ5IA1m5AItUtLGD4zpZ5TcqiJ+Ta+7ljdMd8O+PrX37H/2TH8XewAZ9S+HfD2538TpSwQLlvAO30hH8B2WUzIus6OB08XWlxJ4NAG3lJP9SmadtsVF7ImucuJwXEdeJaAC+gl4FzsV+jNEAJFMZLXTQxOLeBJnG+gF5gQeg64AigvwEZRId95nRGPwq3E2jLwII630IvZIrDngZ6sP0JP5Egu+ZzE+sZJdM8ixg5mpZ9dDx2bhK43/8hKvmfZu5Zt+1vLfmalozU/BdNmj995c36l871NXlfH8iMjzdbEfBs96xNg9t8nJtS36lZeFxQYe4UU+ARNV/pVBmUODDK7wo4NmQMTE3lzB/LRYeDQkvgBid2JcSB6mspwuGenErYPwisg3rasxWbGmsAJ8A1Q0gs8DDra/BuP9OLOdIcsAV43mmupmDR/XXX+ADD88ZMguegVAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}